{"ast":null,"code":"import _defineProperty from\"/Users/alaaeldin/Documents/GitHub/gateofegyptadmin/node_modules/@babel/runtime/helpers/esm/defineProperty\";import _classCallCheck from\"/Users/alaaeldin/Documents/GitHub/gateofegyptadmin/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/Users/alaaeldin/Documents/GitHub/gateofegyptadmin/node_modules/@babel/runtime/helpers/esm/createClass\";import _possibleConstructorReturn from\"/Users/alaaeldin/Documents/GitHub/gateofegyptadmin/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";import _getPrototypeOf from\"/Users/alaaeldin/Documents/GitHub/gateofegyptadmin/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";import _inherits from\"/Users/alaaeldin/Documents/GitHub/gateofegyptadmin/node_modules/@babel/runtime/helpers/esm/inherits\";import React,{Component}from'react';import{Button,Col,Container,Form,Modal,Row}from\"react-bootstrap\";import MediaSingle from\"./MediaSingle\";var AddSubCategory=/*#__PURE__*/function(_Component){_inherits(AddSubCategory,_Component);function AddSubCategory(){var _getPrototypeOf2;var _this;_classCallCheck(this,AddSubCategory);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key];}_this=_possibleConstructorReturn(this,(_getPrototypeOf2=_getPrototypeOf(AddSubCategory)).call.apply(_getPrototypeOf2,[this].concat(args)));_this.handleClose=function(){_this.setState({modal:false});if(_this.props.handleClose)_this.props.handleClose();};_this.state={name:'',nameAr:'',icon:'',modal:false,edit:false,title:'Add',subCategory:{}};_this.addMediaFile=function(icon){_this.setState({icon:icon});console.log(icon);};_this.onChange=function(key,e){_this.setState(_defineProperty({},key,e.target.value));};_this.addSubCategory=function(){if(_this.state.name===''||_this.state.nameAr===''||_this.state.icon===''){alert('please fill all fields');return;}if(_this.state.edit){var subCategory=_this.state.subCategory;subCategory.name=_this.state.name;subCategory.nameAr=_this.state.nameAr;subCategory.icon=_this.state.icon;_this.props.editSubCategory(subCategory);}else{_this.props.addSubCategory({name:_this.state.name,nameAr:_this.state.nameAr,icon:_this.state.icon});}_this.setState({name:'',nameAr:'',icon:'',edit:false,title:'Add',subCategory:{}});_this.handleClose();};return _this;}_createClass(AddSubCategory,[{key:\"componentWillReceiveProps\",value:function componentWillReceiveProps(nextProps,nextContext){//console.log(\"i;m recving \",nextProps)\nif(this.state.modal!==nextProps.modal)this.setState({modal:nextProps.modal});if(nextProps.edit&&nextProps.category){var subCategory=nextProps.category.subCategories[nextProps.subCategoryIndex];if(subCategory){this.setState({subCategory:subCategory,edit:true,title:'Edit',name:subCategory.name,nameAr:subCategory.nameAr,icon:subCategory.icon});}}}},{key:\"render\",value:function render(){var _this2=this;return React.createElement(Container,{class:true},React.createElement(Modal,{show:this.state.modal,onHide:this.handleClose,size:\"lg\"},React.createElement(Modal.Header,{closeButton:true},React.createElement(Modal.Title,null,this.state.title,\" SubCategory\")),React.createElement(Modal.Body,null,React.createElement(Form,null,React.createElement(Form.Group,{as:Row},React.createElement(Form.Label,{column:true,sm:\"2\"},\"Name (English)\"),React.createElement(Col,null,React.createElement(Form.Control,{type:\"text\",placeholder:\"Category name\",value:this.state.name,onChange:function onChange(e){return _this2.onChange('name',e);}}))),React.createElement(Form.Group,{as:Row},React.createElement(Form.Label,{column:true,sm:\"2\"},\"Name (Arabic)\"),React.createElement(Col,null,React.createElement(Form.Control,{type:\"text\",placeholder:\"Category name (Arabic)\",value:this.state.nameAr,onChange:function onChange(e){return _this2.onChange('nameAr',e);}}))),React.createElement(Form.Group,{as:Row},React.createElement(Form.Label,{column:true,sm:\"2\"},\"SubCategory Icon\"),React.createElement(MediaSingle,{updateMedia:this.addMediaFile,icon:this.state.icon})))),React.createElement(Modal.Footer,null,React.createElement(Button,{variant:\"secondary\",onClick:this.handleClose},\"Cancel\"),React.createElement(Button,{variant:\"primary\",onClick:function onClick(){_this2.addSubCategory();}},\"Save Changes\"))));}}]);return AddSubCategory;}(Component);export default AddSubCategory;","map":{"version":3,"sources":["/Users/alaaeldin/Documents/GitHub/gateofegyptadmin/src/components/AddSubCategory.js"],"names":["React","Component","Button","Col","Container","Form","Modal","Row","MediaSingle","AddSubCategory","handleClose","setState","modal","props","state","name","nameAr","icon","edit","title","subCategory","addMediaFile","console","log","onChange","key","e","target","value","addSubCategory","alert","editSubCategory","nextProps","nextContext","category","subCategories","subCategoryIndex"],"mappings":"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","sourcesContent":["import React, {Component} from 'react';\nimport {Button, Col, Container, Form, Modal, Row} from \"react-bootstrap\";\nimport MediaSingle from \"./MediaSingle\";\n\nclass AddSubCategory extends Component {\n\n\n    handleClose = () => {\n        this.setState({modal: false});\n        if(this.props.handleClose)\n            this.props.handleClose();\n    }\n\n    componentWillReceiveProps(nextProps, nextContext) {\n        //console.log(\"i;m recving \",nextProps)\n        if (this.state.modal !== nextProps.modal)\n            this.setState({modal: nextProps.modal});\n        if(nextProps.edit && nextProps.category){\n            let subCategory = nextProps.category.subCategories[nextProps.subCategoryIndex];\n            if(subCategory){\n                this.setState({\n                    subCategory:subCategory,\n                    edit:true,\n                    title:'Edit',\n                    name:subCategory.name,\n                    nameAr:subCategory.nameAr,\n                    icon:subCategory.icon,\n\n                })\n            }\n\n        }\n    }\n\n    state = {\n        name: '',\n        nameAr: '',\n        icon: '',\n        modal: false,\n        edit:false,\n        title:'Add',\n        subCategory:{}\n    };\n\n\n    addMediaFile = (icon) => {\n        this.setState({icon});\n        console.log(icon)\n    }\n\n    onChange = (key, e) => {\n        this.setState({[key]: e.target.value})\n    }\n\n    addSubCategory = () => {\n        if (this.state.name === '' || this.state.nameAr === '' || this.state.icon === '') {\n            alert('please fill all fields');\n            return;\n        }\n        if(this.state.edit){\n            let subCategory = this.state.subCategory;\n            subCategory.name = this.state.name;\n            subCategory.nameAr = this.state.nameAr;\n            subCategory.icon = this.state.icon;\n\n            this.props.editSubCategory(subCategory);\n        }\n        else{\n\n            this.props.addSubCategory({\n                name: this.state.name,\n                nameAr: this.state.nameAr,\n                icon: this.state.icon\n            });\n        }\n        this.setState({name: '', nameAr: '', icon: '',edit:false,title:'Add',subCategory:{}})\n        this.handleClose();\n    };\n\n    render() {\n        return (\n            <Container class>\n\n                <Modal show={this.state.modal} onHide={this.handleClose} size=\"lg\">\n                    <Modal.Header closeButton>\n                        <Modal.Title>{this.state.title} SubCategory</Modal.Title>\n                    </Modal.Header>\n\n                    <Modal.Body>\n                        <Form>\n                            <Form.Group as={Row}>\n                                <Form.Label column sm=\"2\">\n                                    Name (English)\n                                </Form.Label>\n                                <Col>\n                                    <Form.Control type=\"text\" placeholder=\"Category name\" value={this.state.name}\n                                                  onChange={(e) => this.onChange('name', e)}/>\n                                </Col>\n\n                            </Form.Group>\n                            <Form.Group as={Row}>\n                                <Form.Label column sm=\"2\">\n                                    Name (Arabic)\n                                </Form.Label>\n                                <Col>\n                                    <Form.Control type=\"text\" placeholder=\"Category name (Arabic)\"\n                                                  value={this.state.nameAr}\n                                                  onChange={(e) => this.onChange('nameAr', e)}/>\n                                </Col>\n                            </Form.Group>\n\n                            <Form.Group as={Row}>\n                                <Form.Label column sm=\"2\">\n                                    SubCategory Icon\n                                </Form.Label>\n\n                                <MediaSingle updateMedia={this.addMediaFile} icon={this.state.icon}/>\n\n\n                            </Form.Group>\n\n                        </Form>\n\n                    </Modal.Body>\n                    <Modal.Footer>\n                        <Button variant=\"secondary\" onClick={this.handleClose}>\n                            Cancel\n                        </Button>\n                        <Button variant=\"primary\" onClick={() => {\n                            this.addSubCategory()\n                        }}>\n                            Save Changes\n                        </Button>\n                    </Modal.Footer>\n                </Modal>\n\n\n            </Container>\n\n        );\n    }\n}\n\nexport default AddSubCategory;\n"]},"metadata":{},"sourceType":"module"}