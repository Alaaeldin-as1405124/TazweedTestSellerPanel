{"ast":null,"code":"import _regeneratorRuntime from\"/Users/alaaeldin/Documents/GitHub/gateofegyptadmin/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/Users/alaaeldin/Documents/GitHub/gateofegyptadmin/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _classCallCheck from\"/Users/alaaeldin/Documents/GitHub/gateofegyptadmin/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/Users/alaaeldin/Documents/GitHub/gateofegyptadmin/node_modules/@babel/runtime/helpers/esm/createClass\";var WebApiBaseUrl=\"http://goe.ay-legend.com:1112/api\";var BaseService=/*#__PURE__*/function(){function BaseService(){_classCallCheck(this,BaseService);}_createClass(BaseService,null,[{key:\"getApiUrl\",value:function getApiUrl(){return WebApiBaseUrl;}},{key:\"getToken\",value:function getToken(){return'Bearer '+window.localStorage.getItem('token');}},{key:\"getCategories\",value:function(){var _getCategories=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){var response;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return fetch(\"\".concat(WebApiBaseUrl,\"/category/\"),{method:'GET',headers:{'Content-Type':'application/json'}});case 2:response=_context.sent;if(!response.ok){_context.next=9;break;}_context.next=6;return response.json();case 6:return _context.abrupt(\"return\",_context.sent);case 9:return _context.abrupt(\"return\",response.ok);case 10:case\"end\":return _context.stop();}}},_callee);}));function getCategories(){return _getCategories.apply(this,arguments);}return getCategories;}()},{key:\"getVisitors\",value:function(){var _getVisitors=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee2(){var response;return _regeneratorRuntime.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:_context2.next=2;return fetch(\"\".concat(WebApiBaseUrl,\"/visitor/\"),{method:'GET',headers:{'Content-Type':'application/json','Authorization':this.getToken()}});case 2:response=_context2.sent;if(!response.ok){_context2.next=9;break;}_context2.next=6;return response.json();case 6:return _context2.abrupt(\"return\",_context2.sent);case 9:return _context2.abrupt(\"return\",response.ok);case 10:case\"end\":return _context2.stop();}}},_callee2,this);}));function getVisitors(){return _getVisitors.apply(this,arguments);}return getVisitors;}()},{key:\"addCategory\",value:function(){var _addCategory=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee3(category){var response;return _regeneratorRuntime.wrap(function _callee3$(_context3){while(1){switch(_context3.prev=_context3.next){case 0:_context3.next=2;return fetch(\"\".concat(WebApiBaseUrl,\"/category/\"),{method:'POST',headers:{'Content-Type':'application/json','Authorization':this.getToken()},body:JSON.stringify(category)});case 2:response=_context3.sent;if(!response.ok){_context3.next=9;break;}_context3.next=6;return response.json();case 6:return _context3.abrupt(\"return\",_context3.sent);case 9:return _context3.abrupt(\"return\",response.ok);case 10:case\"end\":return _context3.stop();}}},_callee3,this);}));function addCategory(_x){return _addCategory.apply(this,arguments);}return addCategory;}()},{key:\"updateCategory\",value:function(){var _updateCategory=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee4(category){var response;return _regeneratorRuntime.wrap(function _callee4$(_context4){while(1){switch(_context4.prev=_context4.next){case 0:_context4.next=2;return fetch(\"\".concat(WebApiBaseUrl,\"/category/\"),{method:'PUT',headers:{'Content-Type':'application/json','Authorization':this.getToken()},body:JSON.stringify(category)});case 2:response=_context4.sent;if(!response.ok){_context4.next=9;break;}_context4.next=6;return response.json();case 6:return _context4.abrupt(\"return\",_context4.sent);case 9:return _context4.abrupt(\"return\",response.ok);case 10:case\"end\":return _context4.stop();}}},_callee4,this);}));function updateCategory(_x2){return _updateCategory.apply(this,arguments);}return updateCategory;}()},{key:\"deleteCategory\",value:function(){var _deleteCategory=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee5(category){var response;return _regeneratorRuntime.wrap(function _callee5$(_context5){while(1){switch(_context5.prev=_context5.next){case 0:_context5.next=2;return fetch(\"\".concat(WebApiBaseUrl,\"/category/\"),{method:'DELETE',headers:{'Content-Type':'application/json','Authorization':this.getToken()},body:JSON.stringify(category)});case 2:response=_context5.sent;if(!response.ok){_context5.next=9;break;}_context5.next=6;return response.json();case 6:return _context5.abrupt(\"return\",_context5.sent);case 9:return _context5.abrupt(\"return\",response.ok);case 10:case\"end\":return _context5.stop();}}},_callee5,this);}));function deleteCategory(_x3){return _deleteCategory.apply(this,arguments);}return deleteCategory;}()},{key:\"addSubCategory\",value:function(){var _addSubCategory=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee6(category,subCategory){var response;return _regeneratorRuntime.wrap(function _callee6$(_context6){while(1){switch(_context6.prev=_context6.next){case 0:_context6.next=2;return fetch(\"\".concat(WebApiBaseUrl,\"/subcategory/\").concat(category._id),{method:'POST',headers:{'Content-Type':'application/json','Authorization':this.getToken()},body:JSON.stringify(subCategory)});case 2:response=_context6.sent;if(!response.ok){_context6.next=9;break;}_context6.next=6;return response.json();case 6:return _context6.abrupt(\"return\",_context6.sent);case 9:return _context6.abrupt(\"return\",response.ok);case 10:case\"end\":return _context6.stop();}}},_callee6,this);}));function addSubCategory(_x4,_x5){return _addSubCategory.apply(this,arguments);}return addSubCategory;}()},{key:\"updateSubCategory\",value:function(){var _updateSubCategory=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee7(category,subCategory){var response;return _regeneratorRuntime.wrap(function _callee7$(_context7){while(1){switch(_context7.prev=_context7.next){case 0:_context7.next=2;return fetch(\"\".concat(WebApiBaseUrl,\"/subCategory/\").concat(category._id),{method:'PUT',headers:{'Content-Type':'application/json','Authorization':this.getToken()},body:JSON.stringify(subCategory)});case 2:response=_context7.sent;if(!response.ok){_context7.next=9;break;}_context7.next=6;return response.json();case 6:return _context7.abrupt(\"return\",_context7.sent);case 9:return _context7.abrupt(\"return\",response.ok);case 10:case\"end\":return _context7.stop();}}},_callee7,this);}));function updateSubCategory(_x6,_x7){return _updateSubCategory.apply(this,arguments);}return updateSubCategory;}()},{key:\"deleteSubCategory\",value:function(){var _deleteSubCategory=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee8(category,subCategory){var response;return _regeneratorRuntime.wrap(function _callee8$(_context8){while(1){switch(_context8.prev=_context8.next){case 0:_context8.next=2;return fetch(\"\".concat(WebApiBaseUrl,\"/subCategory/\").concat(category._id),{method:'DELETE',headers:{'Content-Type':'application/json','Authorization':this.getToken()},body:JSON.stringify(subCategory)});case 2:response=_context8.sent;if(!response.ok){_context8.next=9;break;}_context8.next=6;return response.json();case 6:return _context8.abrupt(\"return\",_context8.sent);case 9:return _context8.abrupt(\"return\",response.ok);case 10:case\"end\":return _context8.stop();}}},_callee8,this);}));function deleteSubCategory(_x8,_x9){return _deleteSubCategory.apply(this,arguments);}return deleteSubCategory;}()},{key:\"getLocations\",value:function(){var _getLocations=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee9(){var response;return _regeneratorRuntime.wrap(function _callee9$(_context9){while(1){switch(_context9.prev=_context9.next){case 0:_context9.next=2;return fetch(\"\".concat(WebApiBaseUrl,\"/location/\"),{method:'GET',headers:{'Content-Type':'application/json','Authorization':\"Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ0eXBlIjoyLCJyZWdEYXRlIjoiV2VkIE9jdCAwMiAyMDE5IDEzOjQ1OjA3IEdNVCswMzAwIChBcmFiaWFuIFN0YW5kYXJkIFRpbWUpIiwiaXNWYWxpZCI6dHJ1ZSwiX2lkIjoiNWQ5NDgyMDNlYmQ1ZTg0M2I4NTU5NDI5IiwiZW1haWwiOiJhbGFhIiwibmFtZSI6ImFsYWEiLCJfX3YiOjAsImlhdCI6MTU3MDAxMzc2N30.LB-CBu-kOlPQwJjoyVwhuFP9lYxBWhffh-479W1emX8\"}});case 2:response=_context9.sent;if(!response.ok){_context9.next=9;break;}_context9.next=6;return response.json();case 6:return _context9.abrupt(\"return\",_context9.sent);case 9:return _context9.abrupt(\"return\",response.ok);case 10:case\"end\":return _context9.stop();}}},_callee9);}));function getLocations(){return _getLocations.apply(this,arguments);}return getLocations;}()},{key:\"addLocation\",value:function(){var _addLocation=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee10(location){var response;return _regeneratorRuntime.wrap(function _callee10$(_context10){while(1){switch(_context10.prev=_context10.next){case 0:_context10.next=2;return fetch(\"\".concat(WebApiBaseUrl,\"/location/\"),{method:'POST',headers:{'Content-Type':'application/json','Authorization':\"Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ0eXBlIjoyLCJyZWdEYXRlIjoiV2VkIE9jdCAwMiAyMDE5IDEzOjQ1OjA3IEdNVCswMzAwIChBcmFiaWFuIFN0YW5kYXJkIFRpbWUpIiwiaXNWYWxpZCI6dHJ1ZSwiX2lkIjoiNWQ5NDgyMDNlYmQ1ZTg0M2I4NTU5NDI5IiwiZW1haWwiOiJhbGFhIiwibmFtZSI6ImFsYWEiLCJfX3YiOjAsImlhdCI6MTU3MDAxMzc2N30.LB-CBu-kOlPQwJjoyVwhuFP9lYxBWhffh-479W1emX8\"},body:JSON.stringify(location)});case 2:response=_context10.sent;if(!response.ok){_context10.next=9;break;}_context10.next=6;return response.json();case 6:return _context10.abrupt(\"return\",_context10.sent);case 9:return _context10.abrupt(\"return\",response.ok);case 10:case\"end\":return _context10.stop();}}},_callee10);}));function addLocation(_x10){return _addLocation.apply(this,arguments);}return addLocation;}()},{key:\"updateLocation\",value:function(){var _updateLocation=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee11(location){var response;return _regeneratorRuntime.wrap(function _callee11$(_context11){while(1){switch(_context11.prev=_context11.next){case 0:_context11.next=2;return fetch(\"\".concat(WebApiBaseUrl,\"/location/\"),{method:'PUT',headers:{'Content-Type':'application/json','Authorization':\"Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ0eXBlIjoyLCJyZWdEYXRlIjoiV2VkIE9jdCAwMiAyMDE5IDEzOjQ1OjA3IEdNVCswMzAwIChBcmFiaWFuIFN0YW5kYXJkIFRpbWUpIiwiaXNWYWxpZCI6dHJ1ZSwiX2lkIjoiNWQ5NDgyMDNlYmQ1ZTg0M2I4NTU5NDI5IiwiZW1haWwiOiJhbGFhIiwibmFtZSI6ImFsYWEiLCJfX3YiOjAsImlhdCI6MTU3MDAxMzc2N30.LB-CBu-kOlPQwJjoyVwhuFP9lYxBWhffh-479W1emX8\"},body:JSON.stringify(location)});case 2:response=_context11.sent;if(!response.ok){_context11.next=9;break;}_context11.next=6;return response.json();case 6:return _context11.abrupt(\"return\",_context11.sent);case 9:return _context11.abrupt(\"return\",response.ok);case 10:case\"end\":return _context11.stop();}}},_callee11);}));function updateLocation(_x11){return _updateLocation.apply(this,arguments);}return updateLocation;}()},{key:\"deleteLocation\",value:function(){var _deleteLocation=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee12(location){var response;return _regeneratorRuntime.wrap(function _callee12$(_context12){while(1){switch(_context12.prev=_context12.next){case 0:_context12.next=2;return fetch(\"\".concat(WebApiBaseUrl,\"/location/\"),{method:'DELETE',headers:{'Content-Type':'application/json','Authorization':\"Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ0eXBlIjoyLCJyZWdEYXRlIjoiV2VkIE9jdCAwMiAyMDE5IDEzOjQ1OjA3IEdNVCswMzAwIChBcmFiaWFuIFN0YW5kYXJkIFRpbWUpIiwiaXNWYWxpZCI6dHJ1ZSwiX2lkIjoiNWQ5NDgyMDNlYmQ1ZTg0M2I4NTU5NDI5IiwiZW1haWwiOiJhbGFhIiwibmFtZSI6ImFsYWEiLCJfX3YiOjAsImlhdCI6MTU3MDAxMzc2N30.LB-CBu-kOlPQwJjoyVwhuFP9lYxBWhffh-479W1emX8\"},body:JSON.stringify(location)});case 2:response=_context12.sent;if(!response.ok){_context12.next=9;break;}_context12.next=6;return response.json();case 6:return _context12.abrupt(\"return\",_context12.sent);case 9:return _context12.abrupt(\"return\",response.ok);case 10:case\"end\":return _context12.stop();}}},_callee12);}));function deleteLocation(_x12){return _deleteLocation.apply(this,arguments);}return deleteLocation;}()},{key:\"addPlace\",value:function(){var _addPlace=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee13(place){var response;return _regeneratorRuntime.wrap(function _callee13$(_context13){while(1){switch(_context13.prev=_context13.next){case 0:_context13.next=2;return fetch(\"\".concat(WebApiBaseUrl,\"/place/\"),{method:'POST',headers:{'Content-Type':'application/json','Authorization':this.getToken()},body:JSON.stringify(place)});case 2:response=_context13.sent;if(!response.ok){_context13.next=9;break;}_context13.next=6;return response.json();case 6:return _context13.abrupt(\"return\",_context13.sent);case 9:return _context13.abrupt(\"return\",response.ok);case 10:case\"end\":return _context13.stop();}}},_callee13,this);}));function addPlace(_x13){return _addPlace.apply(this,arguments);}return addPlace;}()},{key:\"getPlaces\",value:function(){var _getPlaces=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee14(){var response;return _regeneratorRuntime.wrap(function _callee14$(_context14){while(1){switch(_context14.prev=_context14.next){case 0:_context14.next=2;return fetch(\"\".concat(WebApiBaseUrl,\"/place/\"),{method:'GET',headers:{'Content-Type':'application/json'}});case 2:response=_context14.sent;if(!response.ok){_context14.next=9;break;}_context14.next=6;return response.json();case 6:return _context14.abrupt(\"return\",_context14.sent);case 9:return _context14.abrupt(\"return\",response.ok);case 10:case\"end\":return _context14.stop();}}},_callee14);}));function getPlaces(){return _getPlaces.apply(this,arguments);}return getPlaces;}()},{key:\"updatePlace\",value:function(){var _updatePlace=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee15(place){var response;return _regeneratorRuntime.wrap(function _callee15$(_context15){while(1){switch(_context15.prev=_context15.next){case 0:_context15.next=2;return fetch(\"\".concat(WebApiBaseUrl,\"/place/\"),{method:'PUT',headers:{'Content-Type':'application/json','Authorization':this.getToken()},body:JSON.stringify(place)});case 2:response=_context15.sent;if(!response.ok){_context15.next=9;break;}_context15.next=6;return response.json();case 6:return _context15.abrupt(\"return\",_context15.sent);case 9:return _context15.abrupt(\"return\",response.ok);case 10:case\"end\":return _context15.stop();}}},_callee15,this);}));function updatePlace(_x14){return _updatePlace.apply(this,arguments);}return updatePlace;}()},{key:\"deletePlace\",value:function(){var _deletePlace=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee16(place){var response;return _regeneratorRuntime.wrap(function _callee16$(_context16){while(1){switch(_context16.prev=_context16.next){case 0:_context16.next=2;return fetch(\"\".concat(WebApiBaseUrl,\"/place/\"),{method:'DELETE',headers:{'Content-Type':'application/json','Authorization':this.getToken()},body:JSON.stringify(place)});case 2:response=_context16.sent;if(!response.ok){_context16.next=9;break;}_context16.next=6;return response.json();case 6:return _context16.abrupt(\"return\",_context16.sent);case 9:return _context16.abrupt(\"return\",response.ok);case 10:case\"end\":return _context16.stop();}}},_callee16,this);}));function deletePlace(_x15){return _deletePlace.apply(this,arguments);}return deletePlace;}()},{key:\"checkLogin\",value:function checkLogin(){var token=window.localStorage.getItem('token');if(token&&token!==''&&token.length>10){console.log('am check login and returning true');return true;}return false;}},{key:\"logout\",value:function logout(){return window.localStorage.removeItem('token');}},{key:\"login\",value:function(){var _login=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee17(user){var authUser;return _regeneratorRuntime.wrap(function _callee17$(_context17){while(1){switch(_context17.prev=_context17.next){case 0:_context17.next=2;return fetch(\"\".concat(WebApiBaseUrl,\"/login/\"),{method:'POST',headers:{'Content-Type':'application/json'//,'Authorization': token\n},body:JSON.stringify(user)});case 2:authUser=_context17.sent;if(!authUser.ok){_context17.next=9;break;}_context17.next=6;return authUser.json();case 6:return _context17.abrupt(\"return\",_context17.sent);case 9:return _context17.abrupt(\"return\",authUser.ok);case 10:case\"end\":return _context17.stop();}}},_callee17);}));function login(_x16){return _login.apply(this,arguments);}return login;}()}]);return BaseService;}();export{BaseService as default};","map":{"version":3,"sources":["/Users/alaaeldin/Documents/GitHub/gateofegyptadmin/src/services/baseService.js"],"names":["WebApiBaseUrl","BaseService","window","localStorage","getItem","fetch","method","headers","response","ok","json","getToken","category","body","JSON","stringify","subCategory","_id","location","place","token","length","console","log","removeItem","user","authUser"],"mappings":"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","sourcesContent":["const WebApiBaseUrl = `http://goe.ay-legend.com:1112/api`;\n\nexport default class BaseService {\n\n    static getApiUrl (){\n        return WebApiBaseUrl;\n    }\n    static getToken(){\n        return 'Bearer '+window.localStorage.getItem('token');\n    }\n    static async getCategories() {\n\n        const response = await fetch(`${WebApiBaseUrl}/category/`, {\n            method: 'GET',\n            headers: {\n                'Content-Type': 'application/json'\n\n            }\n        });\n\n        if (response.ok)\n            return await response.json();\n        else\n            return response.ok;\n\n    }\n    static async getVisitors() {\n\n        const response = await fetch(`${WebApiBaseUrl}/visitor/`, {\n            method: 'GET',\n            headers: {\n                'Content-Type': 'application/json',\n                'Authorization': this.getToken()\n\n            }\n        });\n\n        if (response.ok)\n            return await response.json();\n        else\n            return response.ok;\n\n    }\n    static async addCategory(category) {\n\n        const response = await fetch(`${WebApiBaseUrl}/category/`, {\n            method: 'POST',\n            headers: {\n                'Content-Type': 'application/json',\n                'Authorization': this.getToken()\n\n            },\n            body: JSON.stringify(category)\n        });\n\n        if (response.ok)\n            return await response.json();\n        else\n            return response.ok\n\n\n    }\n    static async updateCategory(category) {\n\n        const response = await fetch(`${WebApiBaseUrl}/category/`, {\n            method: 'PUT',\n            headers: {\n                'Content-Type': 'application/json'\n                ,\n                'Authorization': this.getToken()\n            },\n            body: JSON.stringify(category)\n        });\n\n        if (response.ok)\n            return await response.json();\n        else\n            return response.ok\n\n\n    }\n    static async deleteCategory(category) {\n\n        const response = await fetch(`${WebApiBaseUrl}/category/`, {\n            method: 'DELETE',\n            headers: {\n                'Content-Type': 'application/json'\n                ,\n                'Authorization': this.getToken()\n\n            },\n            body: JSON.stringify(category)\n        });\n\n        if (response.ok)\n            return await response.json();\n        else\n            return response.ok\n\n\n    }\n\n    static async addSubCategory(category, subCategory) {\n\n        const response = await fetch(`${WebApiBaseUrl}/subcategory/${category._id}`, {\n            method: 'POST',\n            headers: {\n                'Content-Type': 'application/json'\n                ,\n                'Authorization': this.getToken()\n\n            },\n            body: JSON.stringify(subCategory)\n        });\n\n        if (response.ok)\n            return await response.json();\n        else\n            return response.ok\n\n\n    }\n    static async updateSubCategory(category,subCategory) {\n\n        const response = await fetch(`${WebApiBaseUrl}/subCategory/${category._id}`, {\n            method: 'PUT',\n            headers: {\n                'Content-Type': 'application/json'\n                ,\n                'Authorization': this.getToken()\n            },\n            body: JSON.stringify(subCategory)\n        });\n\n        if (response.ok)\n            return await response.json();\n        else\n            return response.ok\n\n\n    }\n    static async deleteSubCategory(category,subCategory) {\n        const response = await fetch(`${WebApiBaseUrl}/subCategory/${category._id}`, {\n            method: 'DELETE',\n            headers: {\n                'Content-Type': 'application/json'\n                ,\n                'Authorization': this.getToken()\n            },\n            body: JSON.stringify(subCategory)\n        });\n\n        if (response.ok)\n            return await response.json();\n        else\n            return response.ok\n\n\n    }\n\n    static async getLocations() {\n        const response = await fetch(`${WebApiBaseUrl}/location/`, {\n            method: 'GET',\n            headers: {\n                'Content-Type': 'application/json'\n                ,\n                'Authorization': \"Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ0eXBlIjoyLCJyZWdEYXRlIjoiV2VkIE9jdCAwMiAyMDE5IDEzOjQ1OjA3IEdNVCswMzAwIChBcmFiaWFuIFN0YW5kYXJkIFRpbWUpIiwiaXNWYWxpZCI6dHJ1ZSwiX2lkIjoiNWQ5NDgyMDNlYmQ1ZTg0M2I4NTU5NDI5IiwiZW1haWwiOiJhbGFhIiwibmFtZSI6ImFsYWEiLCJfX3YiOjAsImlhdCI6MTU3MDAxMzc2N30.LB-CBu-kOlPQwJjoyVwhuFP9lYxBWhffh-479W1emX8\"\n\n            }\n        });\n\n        if (response.ok)\n            return await response.json();\n        else\n            return response.ok;\n\n\n\n    }\n    static async addLocation(location) {\n\n        const response = await fetch(`${WebApiBaseUrl}/location/`, {\n            method: 'POST',\n            headers: {\n                'Content-Type': 'application/json'\n                ,\n                'Authorization': \"Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ0eXBlIjoyLCJyZWdEYXRlIjoiV2VkIE9jdCAwMiAyMDE5IDEzOjQ1OjA3IEdNVCswMzAwIChBcmFiaWFuIFN0YW5kYXJkIFRpbWUpIiwiaXNWYWxpZCI6dHJ1ZSwiX2lkIjoiNWQ5NDgyMDNlYmQ1ZTg0M2I4NTU5NDI5IiwiZW1haWwiOiJhbGFhIiwibmFtZSI6ImFsYWEiLCJfX3YiOjAsImlhdCI6MTU3MDAxMzc2N30.LB-CBu-kOlPQwJjoyVwhuFP9lYxBWhffh-479W1emX8\"\n\n            },\n            body: JSON.stringify(location)\n        });\n\n        if (response.ok)\n            return await response.json();\n        else\n            return response.ok\n\n\n    }\n    static async updateLocation(location) {\n\n        const response = await fetch(`${WebApiBaseUrl}/location/`, {\n            method: 'PUT',\n            headers: {\n                'Content-Type': 'application/json'\n                ,\n                'Authorization': \"Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ0eXBlIjoyLCJyZWdEYXRlIjoiV2VkIE9jdCAwMiAyMDE5IDEzOjQ1OjA3IEdNVCswMzAwIChBcmFiaWFuIFN0YW5kYXJkIFRpbWUpIiwiaXNWYWxpZCI6dHJ1ZSwiX2lkIjoiNWQ5NDgyMDNlYmQ1ZTg0M2I4NTU5NDI5IiwiZW1haWwiOiJhbGFhIiwibmFtZSI6ImFsYWEiLCJfX3YiOjAsImlhdCI6MTU3MDAxMzc2N30.LB-CBu-kOlPQwJjoyVwhuFP9lYxBWhffh-479W1emX8\"\n\n            },\n            body: JSON.stringify(location)\n        });\n\n        if (response.ok)\n            return await response.json();\n        else\n            return response.ok\n\n\n    }\n    static async deleteLocation(location) {\n\n        const response = await fetch(`${WebApiBaseUrl}/location/`, {\n            method: 'DELETE',\n            headers: {\n                'Content-Type': 'application/json'\n                ,\n                'Authorization': \"Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ0eXBlIjoyLCJyZWdEYXRlIjoiV2VkIE9jdCAwMiAyMDE5IDEzOjQ1OjA3IEdNVCswMzAwIChBcmFiaWFuIFN0YW5kYXJkIFRpbWUpIiwiaXNWYWxpZCI6dHJ1ZSwiX2lkIjoiNWQ5NDgyMDNlYmQ1ZTg0M2I4NTU5NDI5IiwiZW1haWwiOiJhbGFhIiwibmFtZSI6ImFsYWEiLCJfX3YiOjAsImlhdCI6MTU3MDAxMzc2N30.LB-CBu-kOlPQwJjoyVwhuFP9lYxBWhffh-479W1emX8\"\n\n            },\n            body: JSON.stringify(location)\n        });\n\n        if (response.ok)\n            return await response.json();\n        else\n            return response.ok\n\n\n    }\n\n\n    static async addPlace(place) {\n\n        const response = await fetch(`${WebApiBaseUrl}/place/`, {\n            method: 'POST',\n            headers: {\n                'Content-Type': 'application/json'\n                ,\n                'Authorization': this.getToken()\n\n            },\n            body: JSON.stringify(place)\n        });\n\n        if (response.ok)\n            return await response.json();\n        else\n            return response.ok\n\n\n    }\n    static async getPlaces() {\n        const response = await fetch(`${WebApiBaseUrl}/place/`, {\n            method: 'GET',\n            headers: {\n                'Content-Type': 'application/json'\n                ,\n\n            }\n        });\n\n        if (response.ok)\n            return await response.json();\n        else\n            return response.ok;\n\n    }\n    static async updatePlace(place) {\n\n        const response = await fetch(`${WebApiBaseUrl}/place/`, {\n            method: 'PUT',\n            headers: {\n                'Content-Type': 'application/json'\n                ,\n                'Authorization':this.getToken()\n\n            },\n            body: JSON.stringify(place)\n        });\n\n        if (response.ok)\n            return await response.json();\n        else\n            return response.ok\n\n\n    }\n    static async deletePlace(place) {\n\n        const response = await fetch(`${WebApiBaseUrl}/place/`, {\n            method: 'DELETE',\n            headers: {\n                'Content-Type': 'application/json'\n                ,\n                'Authorization': this.getToken()\n\n            },\n            body: JSON.stringify(place)\n        });\n\n        if (response.ok)\n            return await response.json();\n        else\n            return response.ok\n\n\n    }\n\n\n    static checkLogin (){\n        let token = window.localStorage.getItem('token');\n\n        if(token && token !=='' && token.length > 10){\n            console.log('am check login and returning true');\n\n            return true\n        }\n        return false;\n\n    }\n\n    static  logout (){\n        return window.localStorage.removeItem('token');\n    }\n\n    static async login(user) {\n\n        const authUser = await fetch(`${WebApiBaseUrl}/login/`, {\n            method: 'POST',\n            headers: {\n                'Content-Type': 'application/json'\n                //,'Authorization': token\n            },\n            body: JSON.stringify(user)\n        });\n\n        if (authUser.ok)\n            return await authUser.json();\n        else\n            return authUser.ok\n    }\n\n}\n"]},"metadata":{},"sourceType":"module"}