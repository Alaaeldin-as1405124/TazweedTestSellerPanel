{"ast":null,"code":"import _toConsumableArray from\"/Users/alaaeldin/Documents/GitHub/gateofegyptadmin/node_modules/@babel/runtime/helpers/esm/toConsumableArray\";import _defineProperty from\"/Users/alaaeldin/Documents/GitHub/gateofegyptadmin/node_modules/@babel/runtime/helpers/esm/defineProperty\";import _regeneratorRuntime from\"/Users/alaaeldin/Documents/GitHub/gateofegyptadmin/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/Users/alaaeldin/Documents/GitHub/gateofegyptadmin/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _classCallCheck from\"/Users/alaaeldin/Documents/GitHub/gateofegyptadmin/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/Users/alaaeldin/Documents/GitHub/gateofegyptadmin/node_modules/@babel/runtime/helpers/esm/createClass\";import _possibleConstructorReturn from\"/Users/alaaeldin/Documents/GitHub/gateofegyptadmin/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";import _getPrototypeOf from\"/Users/alaaeldin/Documents/GitHub/gateofegyptadmin/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";import _inherits from\"/Users/alaaeldin/Documents/GitHub/gateofegyptadmin/node_modules/@babel/runtime/helpers/esm/inherits\";import React,{Component}from'react';import{Form,Button,Row,Col,ListGroup,Alert,Modal,Container,FormControl}from'react-bootstrap';import{useState,useEffect,useRef}from'react';import Media from\"./Media\";import SocialMedia from\"./SocialMedia\";import baseService from\"../services/baseService\";import DragableList from\"../customComponents/DragableList\";import SubScriptionControl from\"./SubScriptionControl\";import MapView from\"../customComponents/MapView\";import{confirmAlert}from'react-confirm-alert';// Import\nimport'react-confirm-alert/src/react-confirm-alert.css';// Import css\nvar AddPlace=/*#__PURE__*/function(_Component){_inherits(AddPlace,_Component);function AddPlace(){var _getPrototypeOf2;var _this;_classCallCheck(this,AddPlace);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key];}_this=_possibleConstructorReturn(this,(_getPrototypeOf2=_getPrototypeOf(AddPlace)).call.apply(_getPrototypeOf2,[this].concat(args)));_this.state={modal:false,categories:[],name:'',nameAr:'',desc:'',descAr:'',media:[],loading:true,title:'Add',edit:false,locations:[],selectedLocationIndex:0,selectedCategoryIndex:0,selectedSubCategoryIndex:0,phones:[],emails:[],workingHours:[],website:'',phone:'',email:'',workingHourFrom:'',workingHourTo:'',subscriptionInfo:{},place:{},socialMedia:[],mapLocation:{}};_this.fetchData=/*#__PURE__*/_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){var categories,locations;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return baseService.getCategories();case 2:categories=_context.sent;_context.next=5;return baseService.getLocations();case 5:locations=_context.sent;_this.setState({categories:categories,locations:locations,loading:false});_this.checkProps(_this.props);case 8:case\"end\":return _context.stop();}}},_callee);}));_this.updateSubscriptionInfo=function(subscriptionInfo){_this.setState({subscriptionInfo:subscriptionInfo});};_this.checkProps=function(nextProps){if(nextProps.edit){var place=nextProps.place;if(place){//the gotten place has the full location/category/subcategoryId\nvar selectedLocationIndex=_this.state.locations.findIndex(function(singleLocation){return singleLocation._id===place.location._id;});var selectedCategoryIndex=_this.state.categories.findIndex(function(singleCategory){return singleCategory._id===place.category._id;});var selectedSubCategoryIndex=_this.state.categories[selectedCategoryIndex].subCategories.findIndex(function(singleSubCategory){return singleSubCategory._id===place.subCategory;});//edit category\n_this.setState({place:nextProps.place,edit:true,title:'Edit',name:place.name,nameAr:place.nameAr,desc:place.desc,descAr:place.descAr,media:place.media,phones:place.phone,emails:place.email,workingHours:place.workingHours,website:place.website,subscriptionInfo:place.subscriptionInfo,socialMedia:place.socialMedia,mapLocation:place.mapLocation,selectedLocationIndex:selectedLocationIndex!==-1?selectedLocationIndex:0,selectedCategoryIndex:selectedCategoryIndex!==-1?selectedCategoryIndex:0,selectedSubCategoryIndex:selectedSubCategoryIndex!==-1?selectedSubCategoryIndex:0});}}};_this.alert=function(title){confirmAlert({title:''+title,message:'',buttons:[{label:'Dismiss'}]});};_this.onChange=function(key,e){_this.setState(_defineProperty({},key,e.target.value));};_this.onLocationChange=function(e){_this.setState({selectedLocationIndex:e.target.selectedIndex,selectedCategoryIndex:0,selectedSubCategoryIndex:0});};_this.onCategoryChange=function(e){_this.setState({selectedCategoryIndex:e.target.selectedIndex});};_this.onSubCategoryChange=function(e){_this.setState({selectedSubCategoryIndex:e.target.selectedIndex});};_this.addCategory=function(){var locationCategories=_toConsumableArray(_this.state.locationCategories);if(locationCategories.includes(_this.state.categories[_this.state.selectedCategory])){_this.alert('AddLocation already has this category');return;}locationCategories.push(_this.state.categories[_this.state.selectedCategory]);_this.setState({locationCategories:locationCategories});};_this.updateSocialMediaList=function(socialMediaList){//keep social media sync\n_this.setState({socialMedia:socialMediaList});};_this.updateMediaFiles=function(media){console.log(\"updating media to \",media);_this.setState({media:media});};_this.addPhone=function(){var phones=_toConsumableArray(_this.state.phones);phones.push(_this.state.phone);_this.setState({phones:phones,phone:''});};_this.removePhone=function(index){var phones=_toConsumableArray(_this.state.phones);phones.splice(index,1);_this.setState({phones:phones});};_this.addEmail=function(){var emails=_toConsumableArray(_this.state.emails);emails.push(_this.state.email);_this.setState({emails:emails,email:''});};_this.removeEmail=function(index){var emails=_toConsumableArray(_this.state.emails);emails.splice(index,1);_this.setState({emails:emails});};_this.timeFormat=function(time){var timeSplit=time.split(':'),hours,minutes,meridian;hours=timeSplit[0];minutes=timeSplit[1];if(hours>12){meridian='PM';hours-=12;}else if(hours<12){meridian='AM';if(hours===0){hours=12;}}else{meridian='PM';}return hours+':'+minutes+' '+meridian;//alert(hours + ':' + minutes + ' ' + meridian);\n};_this.addWorkingHour=function(){var workingFrom=_this.state.workingHourFrom;var workingTo=_this.state.workingHourTo;if(!workingFrom||!workingTo){_this.alert('Please choose correct time');return;}var workingHours=_toConsumableArray(_this.state.workingHours);var workingHour=_this.timeFormat(workingFrom)+\" To \"+_this.timeFormat(workingTo);workingHours.push(workingHour);_this.setState({workingHours:workingHours,workingHourFrom:'',workingHourTo:''});};_this.removeWorkingHour=function(index){var workingHours=_toConsumableArray(_this.state.workingHours);workingHours.splice(index,1);_this.setState({workingHours:workingHours});};_this.updateMap=function(position,address){var mapLocation={longitude:position.lng,latitude:position.lat,address:address};_this.setState({mapLocation:mapLocation});};_this.validation=function(place){console.log('validating ',place);var valid=true;if(place){if(place.name===''||place.nameAr===''||place.desc===''||place.descAr===''||place.category===''||place.subCategory===''||place.phone.length===0||place.email.length===0||place.media.length===0||place.location===''||place.website===''||place.mapLocation==={}||place.subscriptionInfo==={})valid=false;}return valid;};_this.addPlace=function(){console.log(_this.state.selectedCategoryIndex);var category=_this.state.categories[_this.state.selectedCategoryIndex]._id;//get categoryId from the selected one\nconsole.log(_this.state.selectedSubCategoryIndex);var subCategory=_this.state.categories[_this.state.selectedCategoryIndex].subCategories[_this.state.selectedSubCategoryIndex]._id;var location=_this.state.locations[_this.state.selectedLocationIndex]._id;//do validation\nvar place;if(_this.state.edit){place=_this.state.place;place.name=_this.state.name;place.nameAr=_this.state.nameAr;place.desc=_this.state.desc;place.descAr=_this.state.descAr;place.media=_this.state.media;place.category=category;place.subCategory=subCategory;place.phone=_this.state.phones;place.email=_this.state.emails;place.workingHours=_this.state.workingHours;place.website=_this.state.website;place.location=location;place.mapLocation=_this.state.mapLocation;place.socialMedia=_this.state.socialMedia;place.subscriptionInfo=_this.state.subscriptionInfo;if(_this.validation(place)){baseService.updatePlace(place).catch(function(err){return console.log(err);});if(_this.props&&_this.props.updatePlace)_this.props.updatePlace();}else _this.alert('Please fill all fields');}else{place={name:_this.state.name,nameAr:_this.state.nameAr,desc:_this.state.desc,descAr:_this.state.descAr,media:_this.state.media,category:category,subCategory:subCategory,phone:_this.state.phones,email:_this.state.emails,workingHours:_this.state.workingHours,website:_this.state.website,location:location,mapLocation:_this.state.mapLocation,socialMedia:_this.state.socialMedia,subscriptionInfo:_this.state.subscriptionInfo};if(_this.validation(place)){baseService.addPlace(place).then(function(response){return console.log(response);}).catch(function(err){return console.log(err);});}else _this.alert('Please fill all fields');}if(_this.props&&_this.props.handleClose&&_this.validation(place))_this.props.handleClose();};return _this;}_createClass(AddPlace,[{key:\"componentWillMount\",value:function componentWillMount(){this.fetchData();}},{key:\"componentWillReceiveProps\",value:function componentWillReceiveProps(nextProps,nextContext){this.checkProps(nextProps);}},{key:\"render\",value:function render(){var _this2=this;if(this.state.categories.length===0)return React.createElement(\"div\",{style:{color:'red'}},\"Please Add Location first\",React.createElement(Button,{className:\"badge-info col-6\",href:'/Categories'},React.createElement(\"i\",{className:\"fa fa-plus\"}),\" Add Category\"));return React.createElement(\"div\",null,React.createElement(Container,{class:true},!this.props.handleClose&&React.createElement(\"h2\",null,\" Add Place\"),React.createElement(Form,null,React.createElement(Form.Group,{as:Row},React.createElement(Form.Label,{column:true,sm:\"2\"},\"Name (English)\"),React.createElement(Col,{sm:\"4\"},React.createElement(Form.Control,{type:\"text\",placeholder:\"Place name\",onChange:function onChange(e){return _this2.onChange('name',e);},value:this.state.name})),React.createElement(Form.Label,{column:true,sm:\"2\"},\"Name (Arabic)\"),React.createElement(Col,{sm:\"4\"},React.createElement(Form.Control,{type:\"text\",placeholder:\"Place name (Arabic)\",onChange:function onChange(e){return _this2.onChange('nameAr',e);},value:this.state.nameAr}))),React.createElement(Form.Group,{as:Row,controlId:\"formPlaintextPassword\"},React.createElement(Form.Label,{column:true,sm:\"2\"},\"Description (English)\"),React.createElement(Col,{sm:\"4\"},React.createElement(Form.Control,{as:'textarea',placeholder:\"Place Description\",onChange:function onChange(e){return _this2.onChange('desc',e);},value:this.state.desc})),React.createElement(Form.Label,{column:true,sm:\"2\"},\"Description (Arabic)\"),React.createElement(Col,{sm:\"4\"},React.createElement(Form.Control,{as:'textarea',placeholder:\"Place Description (Arabic)\",onChange:function onChange(e){return _this2.onChange('descAr',e);},value:this.state.descAr}))),React.createElement(Form.Group,{as:Row,controlId:\"formPlaintextPassword\"},React.createElement(Form.Label,{column:true,sm:\"2\"},\"Website\"),React.createElement(Col,null,React.createElement(Form.Control,{type:\"text\",placeholder:\"Website\",onChange:function onChange(e){return _this2.onChange('website',e);},value:this.state.website}))),React.createElement(Form,null,React.createElement(Form.Group,null,React.createElement(Form.Row,null,React.createElement(Form.Group,{as:Col},React.createElement(Form.Label,null,\"Please choose location\"),React.createElement(FormControl,{as:'select',onChange:this.onLocationChange,value:this.state.locations[this.state.selectedLocationIndex].name},this.state.locations.map(function(location,index){return React.createElement(\"option\",{key:index,value:location.name},location.name,\" / \",location.nameAr);}))),React.createElement(Form.Group,{as:Col},React.createElement(Form.Label,null,\"Please choose Category\"),React.createElement(FormControl,{as:'select',onChange:this.onCategoryChange,value:this.state.locations[this.state.selectedLocationIndex].categories[this.state.selectedCategoryIndex].name},this.state.locations[this.state.selectedLocationIndex]&&this.state.locations[this.state.selectedLocationIndex].categories.map(function(category,index){return React.createElement(\"option\",{key:index,value:category.name},category.name,\" / \",category.nameAr);}))),React.createElement(Form.Group,{as:Col},React.createElement(Form.Label,null,\"Choose SubCategory\"),React.createElement(FormControl,{as:'select',onChange:this.onSubCategoryChange,value:this.state.locations[this.state.selectedLocationIndex].categories[this.state.selectedCategoryIndex].subCategories[this.state.selectedSubCategoryIndex].name},this.state.locations[this.state.selectedLocationIndex]&&this.state.locations[this.state.selectedLocationIndex].categories[this.state.selectedCategoryIndex].subCategories.map(function(category,index){return React.createElement(\"option\",{key:index,value:category.name},category.name,\" / \",category.nameAr);})))))),React.createElement(Form.Group,null,React.createElement(Form.Label,null,\"Please Add phone\"),React.createElement(Form.Row,null,React.createElement(Form.Group,{as:Col},React.createElement(Form.Control,{type:\"text\",placeholder:\"Phone Number\",onChange:function onChange(e){return _this2.onChange('phone',e);},value:this.state.phone})),React.createElement(Form.Group,{as:Col,className:'center'},React.createElement(Button,{className:\"badge-info col-6\",onClick:function onClick(){return _this2.addPhone();}},React.createElement(\"i\",{className:\"fa fa-plus\"}),\" Add\"))),this.state.phones.length!==0?this.state.phones.map(function(phone,index){return React.createElement(ListGroup.Item,null,React.createElement(\"div\",{className:'row'},React.createElement(\"p\",{className:'col'},phone),React.createElement(Button,{variant:\"danger\",onClick:function onClick(){return _this2.removePhone(index);}},\"Remove\")));}):React.createElement(ListGroup.Item,null,React.createElement(\"p\",{className:'col'},\"No Phones added yet\"))),React.createElement(Form.Group,null,React.createElement(Form.Label,null,\"Please Add Email\"),React.createElement(Form.Row,null,React.createElement(Form.Group,{as:Col},React.createElement(Form.Control,{type:\"text\",placeholder:\"Email\",onChange:function onChange(e){return _this2.onChange('email',e);},value:this.state.email})),React.createElement(Form.Group,{as:Col,className:'center'},React.createElement(Button,{className:\"badge-info col-6\",onClick:function onClick(){return _this2.addEmail();}},React.createElement(\"i\",{className:\"fa fa-plus\"}),\" Add\"))),this.state.emails.length!==0?this.state.emails.map(function(email,index){return React.createElement(ListGroup.Item,null,React.createElement(\"div\",{className:'row'},React.createElement(\"p\",{className:'col'},email),React.createElement(Button,{variant:\"danger\",onClick:function onClick(){return _this2.removeEmail(index);}},\"Remove\")));}):React.createElement(ListGroup.Item,null,React.createElement(\"p\",{className:'col'},\"No Emails added yet\"))),React.createElement(Form.Group,null,React.createElement(Form.Label,null,\"Please Working Hours\"),React.createElement(Form.Row,null,React.createElement(Form.Group,{as:Col},React.createElement(Form.Control,{type:\"time\",placeholder:\"Working Hours From\",onChange:function onChange(e){return _this2.onChange('workingHourFrom',e);},value:this.state.workingHourFrom})),React.createElement(\"p\",null,\"To\"),React.createElement(Form.Group,{as:Col},React.createElement(Form.Control,{type:\"time\",placeholder:\"Working Hours To\",onChange:function onChange(e){return _this2.onChange('workingHourTo',e);},value:this.state.workingHourTo})),React.createElement(Form.Group,{as:Col,className:'center'},React.createElement(Button,{className:\"badge-info col-6\",onClick:function onClick(){return _this2.addWorkingHour();}},React.createElement(\"i\",{className:\"fa fa-plus\"}),\" Add\"))),this.state.workingHours.length!==0?this.state.workingHours.map(function(workingHour,index){return React.createElement(ListGroup.Item,null,React.createElement(\"div\",{className:'row'},React.createElement(\"p\",{className:'col'},workingHour),React.createElement(Button,{variant:\"danger\",onClick:function onClick(){return _this2.removeWorkingHour(index);}},\"Remove\")));}):React.createElement(ListGroup.Item,null,React.createElement(\"p\",{className:'col'},\"No Working Hours added yet\"))),React.createElement(Media,{media:this.state.media,updateMedia:this.updateMediaFiles}),React.createElement(\"div\",{className:'p-2'}),React.createElement(SocialMedia,{socialMediaList:this.state.socialMedia,updateSocialMediaList:this.updateSocialMediaList}),React.createElement(SubScriptionControl,{update:this.updateSubscriptionInfo,subscriptionInfo:this.state.subscriptionInfo}),React.createElement(\"div\",{className:'p-2'}),React.createElement(MapView,{update:this.updateMap,location:this.state.mapLocation}),React.createElement(\"div\",{className:'p-2'}),React.createElement(Button,{variant:\"primary\",onClick:function onClick(){return _this2.addPlace();}},this.state.title,\" Place\"))));}}]);return AddPlace;}(Component);export default AddPlace;","map":{"version":3,"sources":["/Users/alaaeldin/Documents/GitHub/gateofegyptadmin/src/components/AddPlace.js"],"names":["React","Component","Form","Button","Row","Col","ListGroup","Alert","Modal","Container","FormControl","useState","useEffect","useRef","Media","SocialMedia","baseService","DragableList","SubScriptionControl","MapView","confirmAlert","AddPlace","state","modal","categories","name","nameAr","desc","descAr","media","loading","title","edit","locations","selectedLocationIndex","selectedCategoryIndex","selectedSubCategoryIndex","phones","emails","workingHours","website","phone","email","workingHourFrom","workingHourTo","subscriptionInfo","place","socialMedia","mapLocation","fetchData","getCategories","getLocations","setState","checkProps","props","updateSubscriptionInfo","nextProps","findIndex","singleLocation","_id","location","singleCategory","category","subCategories","singleSubCategory","subCategory","alert","message","buttons","label","onChange","key","e","target","value","onLocationChange","selectedIndex","onCategoryChange","onSubCategoryChange","addCategory","locationCategories","includes","selectedCategory","push","updateSocialMediaList","socialMediaList","updateMediaFiles","console","log","addPhone","removePhone","index","splice","addEmail","removeEmail","timeFormat","time","timeSplit","split","hours","minutes","meridian","addWorkingHour","workingFrom","workingTo","workingHour","removeWorkingHour","updateMap","position","address","longitude","lng","latitude","lat","validation","valid","length","addPlace","updatePlace","catch","err","then","response","handleClose","nextContext","color","map"],"mappings":"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","sourcesContent":["import React, {Component} from 'react';\nimport {Form, Button, Row, Col, ListGroup, Alert, Modal, Container, FormControl} from 'react-bootstrap'\nimport {useState, useEffect, useRef} from 'react'\nimport Media from \"./Media\";\nimport SocialMedia from \"./SocialMedia\";\nimport baseService from \"../services/baseService\";\nimport DragableList from \"../customComponents/DragableList\";\nimport SubScriptionControl from \"./SubScriptionControl\";\nimport MapView from \"../customComponents/MapView\";\nimport {confirmAlert} from 'react-confirm-alert'; // Import\nimport 'react-confirm-alert/src/react-confirm-alert.css'; // Import css\n\nclass AddPlace extends Component {\n    state = {\n        modal: false,\n        categories: [],\n        name: '',\n        nameAr: '',\n        desc: '',\n        descAr: '',\n        media: [],\n        loading: true,\n        title: 'Add',\n        edit: false,\n        locations: [],\n        selectedLocationIndex: 0,\n        selectedCategoryIndex: 0,\n        selectedSubCategoryIndex: 0,\n        phones: [],\n        emails: [],\n        workingHours: [],\n        website: '',\n        phone: '',\n        email: '',\n        workingHourFrom: '',\n        workingHourTo: '',\n        subscriptionInfo: {},\n        place: {},\n        socialMedia: [],\n        mapLocation: {}\n\n\n    };\n\n    componentWillMount() {\n        this.fetchData();\n\n    }\n\n    fetchData = async () => {\n        let categories = await baseService.getCategories();\n        let locations = await baseService.getLocations();\n        this.setState({categories, locations, loading: false});\n        this.checkProps(this.props);\n    }\n    updateSubscriptionInfo = (subscriptionInfo) => {\n        this.setState({subscriptionInfo});\n    }\n    checkProps = (nextProps) => {\n        if (nextProps.edit) {\n            let place = nextProps.place;\n            if (place) {\n                //the gotten place has the full location/category/subcategoryId\n\n                let selectedLocationIndex = this.state.locations.findIndex((singleLocation) => singleLocation._id === place.location._id);\n                let selectedCategoryIndex = this.state.categories.findIndex((singleCategory) => singleCategory._id === place.category._id)\n                let selectedSubCategoryIndex = this.state.categories[selectedCategoryIndex].subCategories.findIndex((singleSubCategory) => singleSubCategory._id === place.subCategory);\n                //edit category\n                this.setState({\n                    place: nextProps.place,\n                    edit: true,\n                    title: 'Edit',\n                    name: place.name,\n                    nameAr: place.nameAr,\n                    desc: place.desc,\n                    descAr: place.descAr,\n                    media: place.media,\n                    phones: place.phone,\n                    emails: place.email,\n                    workingHours: place.workingHours,\n                    website: place.website,\n                    subscriptionInfo: place.subscriptionInfo,\n                    socialMedia: place.socialMedia,\n                    mapLocation: place.mapLocation,\n                    selectedLocationIndex: selectedLocationIndex !== -1 ? selectedLocationIndex : 0,\n                    selectedCategoryIndex: selectedCategoryIndex !== -1 ? selectedCategoryIndex : 0,\n                    selectedSubCategoryIndex: selectedSubCategoryIndex !== -1 ? selectedSubCategoryIndex : 0,\n\n                })\n            }\n\n        }\n    }\n\n    alert = (title) => {\n        confirmAlert({\n            title: '' + title,\n            message: '',\n            buttons: [{label: 'Dismiss'}]\n        });\n    };\n\n    componentWillReceiveProps(nextProps, nextContext) {\n        this.checkProps(nextProps);\n\n    }\n\n    onChange = (key, e) => {\n        this.setState({[key]: e.target.value})\n    };\n\n    onLocationChange = (e) => {\n        this.setState({selectedLocationIndex: e.target.selectedIndex,\n            selectedCategoryIndex: 0,\n            selectedSubCategoryIndex: 0})\n    };\n    onCategoryChange = (e) => {\n        this.setState({selectedCategoryIndex: e.target.selectedIndex})\n    };\n    onSubCategoryChange = (e) => {\n        this.setState({selectedSubCategoryIndex: e.target.selectedIndex})\n    };\n    addCategory = () => {\n        let locationCategories = [...this.state.locationCategories];\n        if (locationCategories.includes(this.state.categories[this.state.selectedCategory])) {\n            this.alert('AddLocation already has this category');\n            return;\n        }\n        locationCategories.push(this.state.categories[this.state.selectedCategory]);\n        this.setState({locationCategories});\n    };\n\n    updateSocialMediaList = (socialMediaList) => {\n        //keep social media sync\n        this.setState({socialMedia: socialMediaList});\n\n    };\n    updateMediaFiles = (media) => {\n        console.log(\"updating media to \", media);\n        this.setState({media});\n    }\n\n    addPhone = () => {\n        let phones = [...this.state.phones];\n        phones.push(this.state.phone);\n        this.setState({phones, phone: ''});\n    };\n    removePhone = (index) => {\n        let phones = [...this.state.phones];\n        phones.splice(index, 1)\n        this.setState({phones});\n    };\n    addEmail = () => {\n        let emails = [...this.state.emails];\n        emails.push(this.state.email);\n        this.setState({emails, email: ''});\n    };\n    removeEmail = (index) => {\n        let emails = [...this.state.emails];\n        emails.splice(index, 1);\n        this.setState({emails});\n    };\n    timeFormat = (time) => {\n        let timeSplit = time.split(':'),\n            hours,\n            minutes,\n            meridian;\n        hours = timeSplit[0];\n        minutes = timeSplit[1];\n        if (hours > 12) {\n            meridian = 'PM';\n            hours -= 12;\n        } else if (hours < 12) {\n            meridian = 'AM';\n            if (hours === 0) {\n                hours = 12;\n            }\n        } else {\n            meridian = 'PM';\n        }\n        return hours + ':' + minutes + ' ' + meridian;\n        //alert(hours + ':' + minutes + ' ' + meridian);\n    }\n    addWorkingHour = () => {\n        let workingFrom = this.state.workingHourFrom;\n        let workingTo = this.state.workingHourTo;\n        if (!workingFrom || !workingTo) {\n            this.alert('Please choose correct time');\n            return;\n        }\n\n        let workingHours = [...this.state.workingHours];\n        let workingHour = this.timeFormat(workingFrom) + \" To \" + this.timeFormat(workingTo);\n        workingHours.push(workingHour);\n        this.setState({workingHours, workingHourFrom: '', workingHourTo: ''});\n    };\n    removeWorkingHour = (index) => {\n        let workingHours = [...this.state.workingHours];\n        workingHours.splice(index, 1);\n        this.setState({workingHours});\n    };\n    updateMap = (position, address) => {\n        let mapLocation = {\n            longitude: position.lng,\n            latitude: position.lat,\n            address: address\n        };\n        this.setState({mapLocation})\n    };\n    validation = (place) => {\n        console.log('validating ', place);\n        let valid = true;\n        if (place) {\n            if (\n                place.name === '' ||\n                place.nameAr === '' ||\n                place.desc === '' ||\n                place.descAr === '' ||\n                place.category === '' ||\n                place.subCategory === '' ||\n                place.phone.length === 0 ||\n                place.email.length === 0 ||\n                place.media.length === 0 ||\n                place.location === '' ||\n                place.website === '' ||\n                place.mapLocation === {} ||\n                place.subscriptionInfo === {}\n            )\n                valid = false;\n        }\n        return valid;\n    }\n    addPlace = () => {\n        console.log(this.state.selectedCategoryIndex);\n        let category = this.state.categories[this.state.selectedCategoryIndex]._id;//get categoryId from the selected one\nconsole.log(this.state.selectedSubCategoryIndex);\n        let subCategory = this.state.categories[this.state.selectedCategoryIndex].subCategories[this.state.selectedSubCategoryIndex]._id;\n        let location = this.state.locations[this.state.selectedLocationIndex]._id;\n        //do validation\n        let place;\n        if (this.state.edit) {\n            place = this.state.place;\n\n\n            place.name = this.state.name;\n            place.nameAr = this.state.nameAr;\n            place.desc = this.state.desc;\n            place.descAr = this.state.descAr;\n            place.media = this.state.media;\n            place.category = category;\n            place.subCategory = subCategory;\n            place.phone = this.state.phones;\n            place.email = this.state.emails;\n            place.workingHours = this.state.workingHours;\n            place.website = this.state.website;\n            place.location = location;\n            place.mapLocation = this.state.mapLocation;\n            place.socialMedia = this.state.socialMedia;\n            place.subscriptionInfo = this.state.subscriptionInfo;\n            if (this.validation(place)) {\n                baseService.updatePlace(place).catch((err) => console.log(err));\n                if (this.props && this.props.updatePlace)\n                    this.props.updatePlace();\n            } else\n                this.alert('Please fill all fields')\n\n\n        } else {\n            place = {\n                name: this.state.name,\n                nameAr: this.state.nameAr,\n                desc: this.state.desc,\n                descAr: this.state.descAr,\n                media: this.state.media,\n                category: category,\n                subCategory: subCategory,\n                phone: this.state.phones,\n                email: this.state.emails,\n                workingHours: this.state.workingHours,\n                website: this.state.website,\n                location: location,\n                mapLocation: this.state.mapLocation,\n                socialMedia: this.state.socialMedia,\n                subscriptionInfo: this.state.subscriptionInfo,\n\n\n            };\n            if (this.validation(place)) {\n                baseService.addPlace(place).then((response) => console.log(response)).catch((err) => console.log(err))\n\n            } else\n                this.alert('Please fill all fields')\n        }\n        if (this.props && this.props.handleClose && this.validation(place))\n            this.props.handleClose()\n\n    }\n\n    render() {\n        if (this.state.categories.length === 0)\n            return (<div style={{color: 'red'}}>\n                Please Add Location first\n                <Button className=\"badge-info col-6\" href={'/Categories'}>\n                    <i className=\"fa fa-plus\"/> Add Category\n\n                </Button>\n            </div>);\n\n        return (\n            <div>\n                <Container class>\n                    {!this.props.handleClose && <h2> Add Place</h2>}\n                    <Form>\n                        <Form.Group as={Row}>\n                            <Form.Label column sm=\"2\">\n                                Name (English)\n                            </Form.Label>\n                            <Col sm=\"4\">\n                                <Form.Control type=\"text\" placeholder=\"Place name\"\n                                              onChange={(e) => this.onChange('name', e)} value={this.state.name}/>\n                            </Col>\n                            <Form.Label column sm=\"2\">\n                                Name (Arabic)\n                            </Form.Label>\n                            <Col sm=\"4\">\n                                <Form.Control type=\"text\" placeholder=\"Place name (Arabic)\"\n                                              onChange={(e) => this.onChange('nameAr', e)} value={this.state.nameAr}/>\n                            </Col>\n                        </Form.Group>\n\n                        <Form.Group as={Row} controlId=\"formPlaintextPassword\">\n                            <Form.Label column sm=\"2\">\n                                Description (English)\n                            </Form.Label>\n                            <Col sm=\"4\">\n                                <Form.Control as={'textarea'} placeholder=\"Place Description\"\n                                              onChange={(e) => this.onChange('desc', e)} value={this.state.desc}/>\n                            </Col>\n                            <Form.Label column sm=\"2\">\n                                Description (Arabic)\n                            </Form.Label>\n                            <Col sm=\"4\">\n                                <Form.Control as={'textarea'} placeholder=\"Place Description (Arabic)\"\n                                              onChange={(e) => this.onChange('descAr', e)} value={this.state.descAr}/>\n                            </Col>\n                        </Form.Group>\n\n                        <Form.Group as={Row} controlId=\"formPlaintextPassword\">\n                            <Form.Label column sm=\"2\">\n                                Website\n                            </Form.Label>\n                            <Col>\n                                <Form.Control type=\"text\" placeholder=\"Website\"\n                                              onChange={(e) => this.onChange('website', e)} value={this.state.website}/>\n                            </Col>\n\n                        </Form.Group>\n\n\n                        <Form>\n                            <Form.Group>\n\n                                <Form.Row>\n                                    <Form.Group as={Col}>\n\n                                        <Form.Label>\n                                            Please choose location\n                                        </Form.Label>\n                                        <FormControl as={'select'} onChange={this.onLocationChange}\n                                                     value={this.state.locations[this.state.selectedLocationIndex].name}>\n                                            {this.state.locations.map((location, index) => {\n                                                return (\n                                                    <option key={index}\n                                                            value={location.name}>{location.name} / {location.nameAr}</option>\n                                                )\n                                            })}\n                                        </FormControl>\n                                    </Form.Group>\n\n                                    <Form.Group as={Col}>\n\n                                        <Form.Label>\n                                            Please choose Category\n                                        </Form.Label>\n                                        <FormControl as={'select'}\n                                                     onChange={this.onCategoryChange}\n                                                     value={this.state.locations[this.state.selectedLocationIndex].categories[this.state.selectedCategoryIndex].name}\n                                        >\n                                            {this.state.locations[this.state.selectedLocationIndex] &&\n                                            this.state.locations[this.state.selectedLocationIndex].categories.map((category, index) => {\n                                                return (\n                                                    <option key={index}\n                                                            value={category.name}>{category.name} / {category.nameAr}</option>\n                                                )\n                                            })}\n                                        </FormControl>\n                                    </Form.Group>\n\n                                    <Form.Group as={Col}>\n\n                                        <Form.Label>\n                                            Choose SubCategory\n                                        </Form.Label>\n                                        <FormControl as={'select'}\n                                                     onChange={this.onSubCategoryChange}\n                                                     value={this.state.locations[this.state.selectedLocationIndex].categories[this.state.selectedCategoryIndex].subCategories[this.state.selectedSubCategoryIndex].name}\n                                        >\n                                            {this.state.locations[this.state.selectedLocationIndex] &&\n                                            this.state.locations[this.state.selectedLocationIndex].categories[this.state.selectedCategoryIndex].subCategories.map((category, index) => {\n                                                return (\n                                                    <option key={index} value={category.name}>{category.name} / {category.nameAr}</option>\n                                                )\n                                            })}\n                                        </FormControl>\n                                    </Form.Group>\n\n\n                                </Form.Row>\n                            </Form.Group>\n                        </Form>\n\n\n                        <Form.Group>\n                            <Form.Label>\n                                Please Add phone\n                            </Form.Label>\n                            <Form.Row>\n                                <Form.Group as={Col}>\n                                    <Form.Control type=\"text\" placeholder=\"Phone Number\"\n                                                  onChange={(e) => this.onChange('phone', e)} value={this.state.phone}/>\n                                </Form.Group>\n\n                                <Form.Group as={Col} className={'center'}>\n                                    <Button className=\"badge-info col-6\" onClick={() => this.addPhone()}><i\n                                        className=\"fa fa-plus\"/> Add</Button>\n                                </Form.Group>\n                            </Form.Row>\n                            {this.state.phones.length !== 0 ? this.state.phones.map((phone, index) => {\n                                    return (\n                                        <ListGroup.Item>\n                                            <div className={'row'}>\n                                                <p className={'col'}>{phone}</p>\n                                                <Button variant=\"danger\"\n                                                        onClick={() => this.removePhone(index)}>Remove</Button>\n                                            </div>\n                                        </ListGroup.Item>)\n                                })\n                                :\n                                <ListGroup.Item>\n                                    <p className={'col'}>No Phones added yet</p>\n                                </ListGroup.Item>\n                            }\n                        </Form.Group>\n\n                        <Form.Group>\n                            <Form.Label>\n                                Please Add Email\n                            </Form.Label>\n                            <Form.Row>\n                                <Form.Group as={Col}>\n                                    <Form.Control type=\"text\" placeholder=\"Email\"\n                                                  onChange={(e) => this.onChange('email', e)} value={this.state.email}/>\n                                </Form.Group>\n\n                                <Form.Group as={Col} className={'center'}>\n                                    <Button className=\"badge-info col-6\" onClick={() => this.addEmail()}><i\n                                        className=\"fa fa-plus\"/> Add</Button>\n                                </Form.Group>\n                            </Form.Row>\n                            {this.state.emails.length !== 0 ? this.state.emails.map((email, index) => {\n                                    return (\n                                        <ListGroup.Item>\n                                            <div className={'row'}>\n                                                <p className={'col'}>{email}</p>\n                                                <Button variant=\"danger\"\n                                                        onClick={() => this.removeEmail(index)}>Remove</Button>\n                                            </div>\n                                        </ListGroup.Item>)\n                                })\n                                :\n                                <ListGroup.Item>\n                                    <p className={'col'}>No Emails added yet</p>\n                                </ListGroup.Item>\n                            }\n                        </Form.Group>\n\n                        <Form.Group>\n                            <Form.Label>\n                                Please Working Hours\n                            </Form.Label>\n                            <Form.Row>\n                                <Form.Group as={Col}>\n                                    <Form.Control type=\"time\" placeholder=\"Working Hours From\"\n                                                  onChange={(e) => this.onChange('workingHourFrom', e)}\n                                                  value={this.state.workingHourFrom}/>\n\n                                </Form.Group>\n                                <p>To</p>\n                                <Form.Group as={Col}>\n                                    <Form.Control type=\"time\" placeholder=\"Working Hours To\"\n                                                  onChange={(e) => this.onChange('workingHourTo', e)}\n                                                  value={this.state.workingHourTo}/>\n                                </Form.Group>\n\n                                <Form.Group as={Col} className={'center'}>\n                                    <Button className=\"badge-info col-6\" onClick={() => this.addWorkingHour()}><i\n                                        className=\"fa fa-plus\"/> Add</Button>\n                                </Form.Group>\n                            </Form.Row>\n                            {this.state.workingHours.length !== 0 ? this.state.workingHours.map((workingHour, index) => {\n                                    return (\n                                        <ListGroup.Item>\n                                            <div className={'row'}>\n                                                <p className={'col'}>{workingHour}</p>\n                                                <Button variant=\"danger\"\n                                                        onClick={() => this.removeWorkingHour(index)}>Remove</Button>\n                                            </div>\n                                        </ListGroup.Item>)\n                                })\n                                :\n                                <ListGroup.Item>\n                                    <p className={'col'}>No Working Hours added yet</p>\n                                </ListGroup.Item>\n                            }\n                        </Form.Group>\n\n\n                        <Media media={this.state.media} updateMedia={this.updateMediaFiles}/>\n\n                        <div className={'p-2'}/>\n\n                        <SocialMedia socialMediaList={this.state.socialMedia}\n                                     updateSocialMediaList={this.updateSocialMediaList}/>\n\n\n                        <SubScriptionControl update={this.updateSubscriptionInfo}\n                                             subscriptionInfo={this.state.subscriptionInfo}/>\n                        <div className={'p-2'}/>\n                        <MapView update={this.updateMap} location={this.state.mapLocation}/>\n                        <div className={'p-2'}/>\n                        <Button variant=\"primary\"\n                                onClick={() => this.addPlace()}>{this.state.title} Place</Button>\n\n\n                    </Form>\n\n\n                </Container>\n\n\n            </div>\n        );\n    }\n}\n\nexport default AddPlace;\n"]},"metadata":{},"sourceType":"module"}