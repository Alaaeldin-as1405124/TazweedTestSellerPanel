{"ast":null,"code":"import _defineProperty from\"/Users/alaaeldin/Documents/GitHub/gateofegyptadmin/node_modules/@babel/runtime/helpers/esm/defineProperty\";import _classCallCheck from\"/Users/alaaeldin/Documents/GitHub/gateofegyptadmin/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/Users/alaaeldin/Documents/GitHub/gateofegyptadmin/node_modules/@babel/runtime/helpers/esm/createClass\";import _possibleConstructorReturn from\"/Users/alaaeldin/Documents/GitHub/gateofegyptadmin/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";import _getPrototypeOf from\"/Users/alaaeldin/Documents/GitHub/gateofegyptadmin/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";import _inherits from\"/Users/alaaeldin/Documents/GitHub/gateofegyptadmin/node_modules/@babel/runtime/helpers/esm/inherits\";import React,{Component}from'react';import{Form,Button}from\"react-bootstrap\";import baseService from\"../services/baseService\";import{Redirect}from'react-router-dom';var Login=/*#__PURE__*/function(_Component){_inherits(Login,_Component);function Login(){var _getPrototypeOf2;var _this;_classCallCheck(this,Login);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key];}_this=_possibleConstructorReturn(this,(_getPrototypeOf2=_getPrototypeOf(Login)).call.apply(_getPrototypeOf2,[this].concat(args)));_this.state={email:'',password:'',error:''};_this.dismissError=function(){_this.setState({error:''});};_this.handleSubmit=function(evt){evt.preventDefault();if(!_this.state.email||_this.state.email===''){return alert('Email is required');}if(!_this.state.password||_this.state.password===''){return alert('Password is required');}baseService.login({email:_this.state.email,password:_this.state.password}).then(function(response){//do the login steps\n//save the token\n//window.localStorage.setItem('token', value);\nif(response.token){window.localStorage.setItem('token',response.token);//push the url\n_this.props.history.push('/admin');}else{alert('Login Failed please try again');}}).catch(function(err){console.log(err);});};_this.onChange=function(key,e){_this.setState(_defineProperty({},key,e.target.value));};return _this;}_createClass(Login,[{key:\"render\",value:function render(){var _this2=this;if(baseService.checkLogin()){console.log('@login yes iam logged in ');this.props.history.push('/admin');}return React.createElement(\"div\",{className:\"Login\"},React.createElement(Form,null,React.createElement(Form.Group,{controlId:\"formBasicEmail\"},React.createElement(Form.Label,null,\"Email address\"),React.createElement(Form.Control,{type:\"email\",placeholder:\"Enter email\",value:this.state.email,onChange:function onChange(e){return _this2.onChange('email',e);}})),React.createElement(Form.Group,{controlId:\"formBasicPassword\"},React.createElement(Form.Label,null,\"Password\"),React.createElement(Form.Control,{type:\"password\",placeholder:\"Password\",value:this.state.password,onChange:function onChange(e){return _this2.onChange('password',e);}})),React.createElement(Button,{variant:\"primary\",type:\"submit\",onClick:function onClick(e){return _this2.handleSubmit(e);}},\"Login\")));}}]);return Login;}(Component);export default Login;","map":{"version":3,"sources":["/Users/alaaeldin/Documents/GitHub/gateofegyptadmin/src/components/Login.js"],"names":["React","Component","Form","Button","baseService","Redirect","Login","state","email","password","error","dismissError","setState","handleSubmit","evt","preventDefault","alert","login","then","response","token","window","localStorage","setItem","props","history","push","catch","err","console","log","onChange","key","e","target","value","checkLogin"],"mappings":"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","sourcesContent":["import React, {Component} from 'react';\nimport {Form, Button} from \"react-bootstrap\";\nimport baseService from \"../services/baseService\";\nimport { Redirect } from 'react-router-dom'\n\nclass Login extends Component {\n    state = {\n        email: '',\n        password: '',\n        error: '',\n    };\n\n\n    dismissError = () => {\n        this.setState({error: ''});\n    }\n\n\n    handleSubmit = (evt) => {\n        evt.preventDefault();\n\n        if (!this.state.email || this.state.email === '') {\n            return alert('Email is required')\n        }\n\n        if (!this.state.password || this.state.password === '') {\n            return alert('Password is required');\n        }\n\n        baseService.login(\n            {\n                email: this.state.email,\n                password: this.state.password\n            }\n        ).then((response) =>{\n            //do the login steps\n            //save the token\n            //window.localStorage.setItem('token', value);\n            if(response.token){\n                window.localStorage.setItem('token', response.token);\n                //push the url\n                this.props.history.push('/admin')\n\n            }\n            else{\n                alert('Login Failed please try again')\n            }\n\n\n        }).catch((err) =>{console.log(err)})\n    }\n\n    onChange = (key, e) => {\n        this.setState({[key]: e.target.value});\n    };\n\n\n    render() {\n        if(baseService.checkLogin()){\n            console.log('@login yes iam logged in ');\n            this.props.history.push('/admin')\n\n        }\n        return (\n            <div className=\"Login\">\n                <Form>\n                    <Form.Group controlId=\"formBasicEmail\">\n                        <Form.Label>Email address</Form.Label>\n                        <Form.Control type=\"email\" placeholder=\"Enter email\" value={this.state.email}\n                                      onChange={(e) => this.onChange('email', e)}/>\n                    </Form.Group>\n\n                    <Form.Group controlId=\"formBasicPassword\">\n                        <Form.Label>Password</Form.Label>\n                        <Form.Control type=\"password\" placeholder=\"Password\" value={this.state.password}\n                                      onChange={(e) => this.onChange('password', e)}/>\n                    </Form.Group>\n\n                    <Button variant=\"primary\" type=\"submit\" onClick={(e) => this.handleSubmit(e)}>\n                        Login\n                    </Button>\n                </Form>\n            </div>\n        );\n    }\n}\n\nexport default Login;\n"]},"metadata":{},"sourceType":"module"}