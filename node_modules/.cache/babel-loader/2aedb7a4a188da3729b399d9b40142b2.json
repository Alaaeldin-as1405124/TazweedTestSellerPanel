{"ast":null,"code":"var _jsxFileName = \"/Users/alaaeldin/Documents/GitHub/gateofegyptadmin/src/components/Visitors.js\";\nimport React, { Component } from 'react';\nimport { Form } from \"react-bootstrap\";\nimport baseService from '../services/baseService';\nimport Table from \"react-bootstrap/Table\";\nimport 'react-confirm-alert/src/react-confirm-alert.css'; // Import css\n//unique function\n\nArray.prototype.unique = function () {\n  return this.filter(function (value, index, self) {\n    return self.indexOf(value) === index;\n  });\n};\n\nclass Visitors extends Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      visitors: [],\n      loading: true\n    };\n\n    this.getUniqueVisitors = () => {\n      //get unique visitors by unique id\n      if (this.state.visitors.length > 0) {\n        const visitors = this.state.visitors.map(visitor => visitor.deviceId);\n        return visitors.unique().length;\n      } else return 0;\n    };\n  }\n\n  componentWillMount() {\n    baseService.getVisitors().then(visitors => {\n      console.log(visitors);\n      this.setState({\n        visitors,\n        loading: false\n      });\n    }).catch(err => console.log(err));\n  }\n\n  render() {\n    return React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 44\n      },\n      __self: this\n    }, React.createElement(\"h2\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 45\n      },\n      __self: this\n    }, \"Visitors\"), React.createElement(Form, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 48\n      },\n      __self: this\n    }, React.createElement(\"p\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 49\n      },\n      __self: this\n    }, \"Number of total visitors# \", this.state.visitors.length), React.createElement(\"p\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 50\n      },\n      __self: this\n    }, \"Number of Unique visitors# \", this.getUniqueVisitors()), React.createElement(Table, {\n      striped: true,\n      bordered: true,\n      hover: true,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 51\n      },\n      __self: this\n    }, React.createElement(\"thead\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 52\n      },\n      __self: this\n    }, React.createElement(\"tr\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 53\n      },\n      __self: this\n    }, React.createElement(\"th\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 54\n      },\n      __self: this\n    }, \"#\"), React.createElement(\"th\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 55\n      },\n      __self: this\n    }, \"Brand\"), React.createElement(\"th\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 56\n      },\n      __self: this\n    }, \"Carrier\"), React.createElement(\"th\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 57\n      },\n      __self: this\n    }, \"DeviceId\"), React.createElement(\"th\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 58\n      },\n      __self: this\n    }, \"ipAddress\"), React.createElement(\"th\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 59\n      },\n      __self: this\n    }, \"uniqueId\"), React.createElement(\"th\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 60\n      },\n      __self: this\n    }, \"isTablet\"), React.createElement(\"th\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 61\n      },\n      __self: this\n    }, \"landscape\"))), React.createElement(\"tbody\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 64\n      },\n      __self: this\n    }, this.state.visitors.length > 0 ? this.state.visitors.map((visitor, index) => {\n      return React.createElement(\"tr\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 68\n        },\n        __self: this\n      }, React.createElement(\"td\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 69\n        },\n        __self: this\n      }, index), React.createElement(\"td\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 70\n        },\n        __self: this\n      }, visitor.brand), React.createElement(\"td\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 71\n        },\n        __self: this\n      }, visitor.carrier), React.createElement(\"td\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 72\n        },\n        __self: this\n      }, visitor.deviceId), React.createElement(\"td\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 73\n        },\n        __self: this\n      }, visitor.ipAddress), React.createElement(\"td\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 74\n        },\n        __self: this\n      }, visitor.uniqueId), React.createElement(\"td\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 75\n        },\n        __self: this\n      }, visitor.isTablet ? 'YES' : 'NO'), React.createElement(\"td\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 76\n        },\n        __self: this\n      }, visitor.landscape ? 'YES' : 'NO'));\n    }) : React.createElement(\"tr\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 81\n      },\n      __self: this\n    }, React.createElement(\"td\", {\n      colSpan: \"8\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 82\n      },\n      __self: this\n    }, React.createElement(\"center\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 83\n      },\n      __self: this\n    }, \"No Visitors yet\")))))));\n  }\n\n}\n\nexport default Visitors;","map":{"version":3,"sources":["/Users/alaaeldin/Documents/GitHub/gateofegyptadmin/src/components/Visitors.js"],"names":["React","Component","Form","baseService","Table","Array","prototype","unique","filter","value","index","self","indexOf","Visitors","state","visitors","loading","getUniqueVisitors","length","map","visitor","deviceId","componentWillMount","getVisitors","then","console","log","setState","catch","err","render","brand","carrier","ipAddress","uniqueId","isTablet","landscape"],"mappings":"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","sourcesContent":["import React, {Component} from 'react';\nimport {Form} from \"react-bootstrap\";\nimport baseService from '../services/baseService'\nimport Table from \"react-bootstrap/Table\";\nimport 'react-confirm-alert/src/react-confirm-alert.css'; // Import css\n\n//unique function\nArray.prototype.unique = function() {\n    return this.filter(function (value, index, self) {\n        return self.indexOf(value) === index;\n    });\n};\n\nclass Visitors extends Component {\n    state = {\n        visitors: [],\n        loading: true,\n\n    };\n\n    componentWillMount() {\n        baseService.getVisitors().then((visitors) => {\n            console.log(visitors)\n            this.setState({\n                visitors,\n                loading: false\n            })\n        }).catch((err) => console.log(err));\n    }\n\n\n\n    getUniqueVisitors = () =>{\n        //get unique visitors by unique id\n      if(this.state.visitors.length > 0){\n          const visitors = this.state.visitors.map(visitor => visitor.deviceId);\n          return visitors.unique().length;\n      }\n      else\n          return 0;\n    };\n    render() {\n        return (\n            <div>\n                <h2>Visitors</h2>\n\n\n                <Form>\n                    <p>Number of total visitors# {this.state.visitors.length}</p>\n                    <p>Number of Unique visitors# {this.getUniqueVisitors()}</p>\n                    <Table striped bordered hover>\n                        <thead>\n                        <tr>\n                            <th>#</th>\n                            <th>Brand</th>\n                            <th>Carrier</th>\n                            <th>DeviceId</th>\n                            <th>ipAddress</th>\n                            <th>uniqueId</th>\n                            <th>isTablet</th>\n                            <th>landscape</th>\n                        </tr>\n                        </thead>\n                        <tbody>\n\n                        {this.state.visitors.length > 0 ? this.state.visitors.map((visitor, index) => {\n                            return (\n                                <tr>\n                                    <td>{index}</td>\n                                    <td>{visitor.brand}</td>\n                                    <td>{visitor.carrier}</td>\n                                    <td>{visitor.deviceId}</td>\n                                    <td>{visitor.ipAddress}</td>\n                                    <td>{visitor.uniqueId}</td>\n                                    <td>{visitor.isTablet? 'YES' : 'NO'}</td>\n                                    <td>{visitor.landscape? 'YES' : 'NO'}</td>\n\n\n                                </tr>\n                            )\n                        }) : <tr>\n                            <td colSpan=\"8\">\n                                <center>No Visitors yet</center>\n                            </td>\n                        </tr>}\n\n                        </tbody>\n                    </Table>\n                </Form>\n\n\n\n            </div>\n        );\n    }\n}\n\nexport default Visitors;\n"]},"metadata":{},"sourceType":"module"}