{"ast":null,"code":"var _jsxFileName = \"/Users/alaaeldin/Documents/GitHub/gateofegyptadmin/src/components/MediaSingle.js\";\nimport React, { Component } from 'react';\nimport { Tabs, Tab, ListGroup, Button, Form, Col, FormControl } from 'react-bootstrap';\n\nclass Media extends Component {\n  constructor(props) {\n    super(props);\n\n    this.removeImageFile = index => {\n      let files = [...this.state.files];\n      let imageUrls = [...this.state.imageUrls];\n      files.splice(index, 1);\n      imageUrls.splice(index, 1);\n      this.setState({\n        files,\n        imageUrls\n      });\n    };\n\n    this.onChange = (key, e) => {\n      this.setState({\n        [key]: e.target.value\n      });\n    };\n\n    this.state = {\n      files: []\n    };\n    this._handleImageChange = this._handleImageChange.bind(this);\n    this._handleSubmit = this._handleSubmit.bind(this);\n  }\n\n  _handleSubmit(e) {\n    e.preventDefault(); // TODO: do something with -> this.state.file\n  }\n\n  _handleImageChange(e) {\n    e.preventDefault(); //reset the chosen photos\n\n    this.setState({\n      files: []\n    });\n    let files = Array.from(e.target.files);\n\n    if (!files[0].type.toString().includes('image')) {\n      alert('allowed type (Images) ONLY');\n      return;\n    }\n\n    let reader = new FileReader();\n    reader.readAsDataURL(files[0]);\n\n    reader.onloadend = () => {\n      let files = [...this.state.files];\n      files[0].blob = reader.result;\n      this.setState({\n        files: files\n      });\n    };\n  }\n\n  render() {\n    return React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 63\n      },\n      __self: this\n    }, React.createElement(\"form\", {\n      onSubmit: this._handleSubmit,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 65\n      },\n      __self: this\n    }, React.createElement(\"input\", {\n      type: \"file\",\n      onChange: this._handleImageChange,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 66\n      },\n      __self: this\n    }), React.createElement(\"button\", {\n      type: \"submit\",\n      onClick: this._handleSubmit,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 67\n      },\n      __self: this\n    }, \"Upload Image\")), this.state.files && this.state.files.map((file, index) => {\n      return React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 71\n        },\n        __self: this\n      }, React.createElement(ListGroup.Item, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 72\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: 'row',\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 73\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: 'col',\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 74\n        },\n        __self: this\n      }, file.type.includes('image') && React.createElement(\"img\", {\n        style: {\n          width: 100,\n          height: 100,\n          padding: 5\n        },\n        src: file.blob,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 76\n        },\n        __self: this\n      })), React.createElement(Button, {\n        variant: \"danger\",\n        onClick: () => this.removeImageFile(index),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 79\n        },\n        __self: this\n      }, \"Remove\"))));\n    }));\n  }\n\n}\n\nexport default Media;","map":{"version":3,"sources":["/Users/alaaeldin/Documents/GitHub/gateofegyptadmin/src/components/MediaSingle.js"],"names":["React","Component","Tabs","Tab","ListGroup","Button","Form","Col","FormControl","Media","constructor","props","removeImageFile","index","files","state","imageUrls","splice","setState","onChange","key","e","target","value","_handleImageChange","bind","_handleSubmit","preventDefault","Array","from","type","toString","includes","alert","reader","FileReader","readAsDataURL","onloadend","blob","result","render","map","file","width","height","padding"],"mappings":"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","sourcesContent":["import React, {Component} from 'react';\nimport {Tabs, Tab, ListGroup, Button, Form, Col, FormControl} from 'react-bootstrap'\n\nclass Media extends Component {\n    constructor(props) {\n        super(props);\n        this.state = {\n            files: [],\n        };\n        this._handleImageChange = this._handleImageChange.bind(this);\n        this._handleSubmit = this._handleSubmit.bind(this);\n    }\n\n\n    _handleSubmit(e) {\n        e.preventDefault();\n        // TODO: do something with -> this.state.file\n    }\n\n    _handleImageChange(e) {\n        e.preventDefault();\n        //reset the chosen photos\n        this.setState({files:[]});\n\n\n        let files = Array.from(e.target.files);\n        if(!files[0].type.toString().includes('image'))\n        {\n            alert('allowed type (Images) ONLY');\n            return;\n        }\n        let reader = new FileReader();\n        reader.readAsDataURL(files[0]);\n        reader.onloadend = () => {\n            let files = [...this.state.files];\n            files[0].blob = reader.result;\n            this.setState({\n                files: files\n            });\n\n        }\n\n\n    }\n\n    removeImageFile = (index) => {\n        let files = [...this.state.files];\n        let imageUrls = [...this.state.imageUrls];\n        files.splice(index, 1);\n        imageUrls.splice(index, 1);\n        this.setState({files, imageUrls})\n    };\n\n\n    onChange = (key, e) => {\n        this.setState({[key]: e.target.value})\n    };\n\n    render() {\n\n\n        return (\n            <div>\n\n                <form onSubmit={this._handleSubmit}>\n                    <input type=\"file\" onChange={this._handleImageChange}/>\n                    <button type=\"submit\" onClick={this._handleSubmit}>Upload Image</button>\n                </form>\n                {this.state.files && this.state.files.map((file, index) => {\n                    return (\n                        <div>\n                            <ListGroup.Item>\n                                <div className={'row'}>\n                                    <div className={'col'}>\n                                        {file.type.includes('image') &&\n                                        <img style={{width: 100, height: 100, padding: 5}} src={file.blob}/>}\n\n                                    </div>\n                                    <Button variant=\"danger\"\n                                            onClick={() => this.removeImageFile(index)}>Remove</Button>\n                                </div>\n                            </ListGroup.Item>\n                        </div>)\n\n                })}\n\n\n            </div>\n        )\n    }\n\n\n}\n\nexport default Media;\n"]},"metadata":{},"sourceType":"module"}