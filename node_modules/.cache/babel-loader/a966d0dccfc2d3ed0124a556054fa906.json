{"ast":null,"code":"import _defineProperty from\"/Users/alaaeldin/Documents/GitHub/TazweedTestSellerPanel/node_modules/@babel/runtime/helpers/esm/defineProperty\";import _classCallCheck from\"/Users/alaaeldin/Documents/GitHub/TazweedTestSellerPanel/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/Users/alaaeldin/Documents/GitHub/TazweedTestSellerPanel/node_modules/@babel/runtime/helpers/esm/createClass\";import _possibleConstructorReturn from\"/Users/alaaeldin/Documents/GitHub/TazweedTestSellerPanel/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";import _getPrototypeOf from\"/Users/alaaeldin/Documents/GitHub/TazweedTestSellerPanel/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";import _inherits from\"/Users/alaaeldin/Documents/GitHub/TazweedTestSellerPanel/node_modules/@babel/runtime/helpers/esm/inherits\";import React,{Component}from'react';import{Form,Button}from\"react-bootstrap\";import baseService from\"../services/baseService\";import{Redirect}from'react-router-dom';var Login=/*#__PURE__*/function(_Component){_inherits(Login,_Component);function Login(){var _getPrototypeOf2;var _this;_classCallCheck(this,Login);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key];}_this=_possibleConstructorReturn(this,(_getPrototypeOf2=_getPrototypeOf(Login)).call.apply(_getPrototypeOf2,[this].concat(args)));_this.state={username:'',password:'',error:''};_this.dismissError=function(){_this.setState({error:''});};_this.handleSubmit=function(evt){evt.preventDefault();if(!_this.state.username||_this.state.username===''){return alert('username is required');}if(!_this.state.password||_this.state.password===''){return alert('Password is required');}baseService.login({username:_this.state.username,password:_this.state.password,seller:true}).then(function(response){//do the login steps\n//save the token\n//window.localStorage.setItem('token', value);\nif(response&&response.token){window.localStorage.setItem('token',response.token);//push the url\n_this.props.history.push('/appointments');}else{alert('Login Failed please try again');}}).catch(function(err){console.log(err);});};_this.onChange=function(key,e){_this.setState(_defineProperty({},key,e.target.value));};return _this;}_createClass(Login,[{key:\"render\",value:function render(){var _this2=this;if(baseService.checkLogin()){//console.log('@login yes iam logged in ');\nif(this.props&&this.props.history)this.props.history.push('/Appointments');}return React.createElement(\"div\",null,React.createElement(\"center\",null,React.createElement(\"h2\",null,\"Login\")),React.createElement(Form,null,React.createElement(Form.Group,null,React.createElement(Form.Label,null,\"Username\"),React.createElement(Form.Control,{type:\"text\",placeholder:\"Enter username\",value:this.state.username,onChange:function onChange(e){return _this2.onChange('username',e);}})),React.createElement(Form.Group,null,React.createElement(Form.Label,null,\"Password\"),React.createElement(Form.Control,{type:\"password\",placeholder:\"Password\",value:this.state.password,onChange:function onChange(e){return _this2.onChange('password',e);}})),React.createElement(\"center\",null,React.createElement(Button,{variant:\"primary\",type:\"submit\",onClick:function onClick(e){return _this2.handleSubmit(e);}},\"Login\"))));}}]);return Login;}(Component);export default Login;","map":{"version":3,"sources":["/Users/alaaeldin/Documents/GitHub/TazweedTestSellerPanel/src/components/Login.js"],"names":["React","Component","Form","Button","baseService","Redirect","Login","state","username","password","error","dismissError","setState","handleSubmit","evt","preventDefault","alert","login","seller","then","response","token","window","localStorage","setItem","props","history","push","catch","err","console","log","onChange","key","e","target","value","checkLogin"],"mappings":"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","sourcesContent":["import React, {Component} from 'react';\nimport {Form, Button} from \"react-bootstrap\";\nimport baseService from \"../services/baseService\";\nimport {Redirect} from 'react-router-dom'\n\nclass Login extends Component {\n    state = {\n        username: '',\n        password: '',\n        error: '',\n    };\n\n\n    dismissError = () => {\n        this.setState({error: ''});\n    }\n\n\n    handleSubmit = (evt) => {\n        evt.preventDefault();\n\n        if (!this.state.username || this.state.username === '') {\n            return alert('username is required')\n        }\n\n        if (!this.state.password || this.state.password === '') {\n            return alert('Password is required');\n        }\n\n        baseService.login(\n            {\n                username: this.state.username,\n                password: this.state.password,\n                seller: true\n            }\n        ).then((response) => {\n            //do the login steps\n            //save the token\n            //window.localStorage.setItem('token', value);\n            if (response && response.token) {\n                window.localStorage.setItem('token', response.token);\n                //push the url\n                this.props.history.push('/appointments')\n\n            } else {\n                alert('Login Failed please try again')\n            }\n\n\n        }).catch((err) => {\n            console.log(err)\n        })\n    }\n\n    onChange = (key, e) => {\n        this.setState({[key]: e.target.value});\n    };\n\n\n    render() {\n        if (baseService.checkLogin()) {\n            //console.log('@login yes iam logged in ');\n            if (this.props && this.props.history)\n                this.props.history.push('/Appointments')\n\n        }\n        return (\n            <div>\n                <center>\n                    <h2>Login</h2>\n                </center>\n                <Form>\n                    <Form.Group>\n                        <Form.Label>Username</Form.Label>\n                        <Form.Control type=\"text\" placeholder=\"Enter username\" value={this.state.username}\n                                      onChange={(e) => this.onChange('username', e)}/>\n                    </Form.Group>\n\n                    <Form.Group>\n                        <Form.Label>Password</Form.Label>\n                        <Form.Control type=\"password\" placeholder=\"Password\" value={this.state.password}\n                                      onChange={(e) => this.onChange('password', e)}/>\n                    </Form.Group>\n\n                    <center>\n                        <Button variant=\"primary\" type=\"submit\" onClick={(e) => this.handleSubmit(e)}>Login</Button>\n                    </center>\n\n                </Form>\n            </div>\n        );\n    }\n}\n\nexport default Login;\n"]},"metadata":{},"sourceType":"module"}