{"ast":null,"code":"import _regeneratorRuntime from\"/Users/alaaeldin/Documents/GitHub/TazweedTestSellerPanel/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/Users/alaaeldin/Documents/GitHub/TazweedTestSellerPanel/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _classCallCheck from\"/Users/alaaeldin/Documents/GitHub/TazweedTestSellerPanel/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/Users/alaaeldin/Documents/GitHub/TazweedTestSellerPanel/node_modules/@babel/runtime/helpers/esm/createClass\";var WebApiBaseUrl=\"http://tazweed.ay-legend.com:8000/api\";var BaseService=/*#__PURE__*/function(){function BaseService(){_classCallCheck(this,BaseService);}_createClass(BaseService,null,[{key:\"getApiUrl\",value:function getApiUrl(){return WebApiBaseUrl;}},{key:\"getToken\",value:function getToken(){return'Bearer '+window.localStorage.getItem('token');}},{key:\"getTimeSlots\",value:function(){var _getTimeSlots=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){var response;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return fetch(\"\".concat(WebApiBaseUrl,\"/timeSlots/\"),{method:'GET',headers:{'Content-Type':'application/json','Authorization':this.getToken()}});case 2:response=_context.sent;if(!response.ok){_context.next=9;break;}_context.next=6;return response.json();case 6:return _context.abrupt(\"return\",_context.sent);case 9:return _context.abrupt(\"return\",response.ok);case 10:case\"end\":return _context.stop();}}},_callee,this);}));function getTimeSlots(){return _getTimeSlots.apply(this,arguments);}return getTimeSlots;}()},{key:\"addTimeSlot\",value:function(){var _addTimeSlot=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee2(timeSlot){var response;return _regeneratorRuntime.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:_context2.next=2;return fetch(\"\".concat(WebApiBaseUrl,\"/timeSlots/\"),{method:'POST',headers:{'Content-Type':'application/json','Authorization':this.getToken()},body:JSON.stringify(timeSlot)});case 2:response=_context2.sent;if(!response.ok){_context2.next=9;break;}_context2.next=6;return response.json();case 6:return _context2.abrupt(\"return\",_context2.sent);case 9:return _context2.abrupt(\"return\",response.ok);case 10:case\"end\":return _context2.stop();}}},_callee2,this);}));function addTimeSlot(_x){return _addTimeSlot.apply(this,arguments);}return addTimeSlot;}()},{key:\"deleteTimeSlot\",value:function(){var _deleteTimeSlot=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee3(timeSlot){var response;return _regeneratorRuntime.wrap(function _callee3$(_context3){while(1){switch(_context3.prev=_context3.next){case 0:_context3.next=2;return fetch(\"\".concat(WebApiBaseUrl,\"/timeSlots/\"),{method:'DELETE',headers:{'Content-Type':'application/json','Authorization':this.getToken()},body:JSON.stringify(timeSlot)});case 2:response=_context3.sent;if(!response.ok){_context3.next=9;break;}_context3.next=6;return response.json();case 6:return _context3.abrupt(\"return\",_context3.sent);case 9:return _context3.abrupt(\"return\",response.ok);case 10:case\"end\":return _context3.stop();}}},_callee3,this);}));function deleteTimeSlot(_x2){return _deleteTimeSlot.apply(this,arguments);}return deleteTimeSlot;}()},{key:\"getAppointments\",value:function(){var _getAppointments=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee4(){var response;return _regeneratorRuntime.wrap(function _callee4$(_context4){while(1){switch(_context4.prev=_context4.next){case 0:_context4.next=2;return fetch(\"\".concat(WebApiBaseUrl,\"/appointments/\"),{method:'GET',headers:{'Content-Type':'application/json','Authorization':this.getToken()}});case 2:response=_context4.sent;if(!response.ok){_context4.next=9;break;}_context4.next=6;return response.json();case 6:return _context4.abrupt(\"return\",_context4.sent);case 9:return _context4.abrupt(\"return\",response.ok);case 10:case\"end\":return _context4.stop();}}},_callee4,this);}));function getAppointments(){return _getAppointments.apply(this,arguments);}return getAppointments;}()},{key:\"updateAppointment\",value:function(){var _updateAppointment=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee5(appointment){var response;return _regeneratorRuntime.wrap(function _callee5$(_context5){while(1){switch(_context5.prev=_context5.next){case 0:_context5.next=2;return fetch(\"\".concat(WebApiBaseUrl,\"/appointments/\"),{method:'PUT',headers:{'Content-Type':'application/json','Authorization':this.getToken()},body:JSON.stringify(appointment)});case 2:response=_context5.sent;if(!response.ok){_context5.next=9;break;}_context5.next=6;return response.json();case 6:return _context5.abrupt(\"return\",_context5.sent);case 9:return _context5.abrupt(\"return\",response.ok);case 10:case\"end\":return _context5.stop();}}},_callee5,this);}));function updateAppointment(_x3){return _updateAppointment.apply(this,arguments);}return updateAppointment;}()},{key:\"checkLogin\",value:function checkLogin(){var token=window.localStorage.getItem('token');if(token&&token!==''&&token.length>10){console.log('am check login and returning true');return true;}return false;}},{key:\"logout\",value:function logout(){return window.localStorage.removeItem('token');}},{key:\"login\",value:function(){var _login=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee6(user){var authUser;return _regeneratorRuntime.wrap(function _callee6$(_context6){while(1){switch(_context6.prev=_context6.next){case 0:_context6.next=2;return fetch(\"\".concat(WebApiBaseUrl,\"/login/\"),{method:'POST',headers:{'Content-Type':'application/json'//,'Authorization': token\n},body:JSON.stringify(user)});case 2:authUser=_context6.sent;if(!authUser.ok){_context6.next=9;break;}_context6.next=6;return authUser.json();case 6:return _context6.abrupt(\"return\",_context6.sent);case 9:return _context6.abrupt(\"return\",authUser.ok);case 10:case\"end\":return _context6.stop();}}},_callee6);}));function login(_x4){return _login.apply(this,arguments);}return login;}()},{key:\"register\",value:function(){var _register=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee7(user){var authUser;return _regeneratorRuntime.wrap(function _callee7$(_context7){while(1){switch(_context7.prev=_context7.next){case 0:_context7.next=2;return fetch(\"\".concat(WebApiBaseUrl,\"/users/\"),{method:'POST',headers:{'Content-Type':'application/json'},body:JSON.stringify(user)});case 2:authUser=_context7.sent;if(!authUser.ok){_context7.next=9;break;}_context7.next=6;return authUser.json();case 6:return _context7.abrupt(\"return\",_context7.sent);case 9:return _context7.abrupt(\"return\",authUser.ok);case 10:case\"end\":return _context7.stop();}}},_callee7);}));function register(_x5){return _register.apply(this,arguments);}return register;}()}]);return BaseService;}();export{BaseService as default};","map":{"version":3,"sources":["/Users/alaaeldin/Documents/GitHub/TazweedTestSellerPanel/src/services/baseService.js"],"names":["WebApiBaseUrl","BaseService","window","localStorage","getItem","fetch","method","headers","getToken","response","ok","json","timeSlot","body","JSON","stringify","appointment","token","length","console","log","removeItem","user","authUser"],"mappings":"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","sourcesContent":["const WebApiBaseUrl = `http://tazweed.ay-legend.com:8000/api`;\n\nexport default class BaseService {\n\n    static getApiUrl() {\n        return WebApiBaseUrl;\n    }\n\n    static getToken() {\n        return 'Bearer ' + window.localStorage.getItem('token');\n    }\n\n    static async getTimeSlots() {\n        const response = await fetch(`${WebApiBaseUrl}/timeSlots/`, {\n            method: 'GET',\n            headers: {\n                'Content-Type': 'application/json',\n                'Authorization': this.getToken()\n\n            }\n        });\n\n        if (response.ok)\n            return await response.json();\n        else\n            return response.ok;\n\n    }\n\n    static async addTimeSlot(timeSlot) {\n\n        const response = await fetch(`${WebApiBaseUrl}/timeSlots/`, {\n            method: 'POST',\n            headers: {\n                'Content-Type': 'application/json',\n                'Authorization': this.getToken()\n\n            },\n            body: JSON.stringify(timeSlot)\n        });\n\n        if (response.ok)\n            return await response.json();\n        else\n            return response.ok\n\n\n    }\n\n    static async deleteTimeSlot(timeSlot) {\n\n        const response = await fetch(`${WebApiBaseUrl}/timeSlots/`, {\n            method: 'DELETE',\n            headers: {\n                'Content-Type': 'application/json',\n                'Authorization': this.getToken()\n\n            },\n            body: JSON.stringify(timeSlot)\n        });\n\n        if (response.ok)\n            return await response.json();\n        else\n            return response.ok\n\n\n    }\n\n    static async getAppointments() {\n\n        const response = await fetch(`${WebApiBaseUrl}/appointments/`, {\n            method: 'GET',\n            headers: {\n                'Content-Type': 'application/json',\n                'Authorization': this.getToken()\n\n            }\n        });\n\n        if (response.ok)\n            return await response.json();\n        else\n            return response.ok\n\n\n    }\n\n    static async updateAppointment(appointment) {\n\n        const response = await fetch(`${WebApiBaseUrl}/appointments/`, {\n            method: 'PUT',\n            headers: {\n                'Content-Type': 'application/json',\n                'Authorization': this.getToken()\n\n            },\n            body: JSON.stringify(appointment)\n        });\n\n        if (response.ok)\n            return await response.json();\n        else\n            return response.ok\n\n\n    }\n\n    j\n\n    static checkLogin() {\n        let token = window.localStorage.getItem('token');\n\n        if (token && token !== '' && token.length > 10) {\n            console.log('am check login and returning true');\n\n            return true\n        }\n        return false;\n\n    }\n\n    static logout() {\n        return window.localStorage.removeItem('token');\n    }\n\n    static async login(user) {\n\n        const authUser = await fetch(`${WebApiBaseUrl}/login/`, {\n            method: 'POST',\n            headers: {\n                'Content-Type': 'application/json'\n                //,'Authorization': token\n            },\n            body: JSON.stringify(user)\n        });\n\n        if (authUser.ok)\n            return await authUser.json();\n        else\n            return authUser.ok\n    }\n\n    static async register(user) {\n\n        const authUser = await fetch(`${WebApiBaseUrl}/users/`, {\n            method: 'POST',\n            headers: {\n                'Content-Type': 'application/json'\n            },\n            body: JSON.stringify(user)\n        });\n\n        if (authUser.ok)\n            return await authUser.json();\n        else\n            return authUser.ok\n    }\n\n}\n"]},"metadata":{},"sourceType":"module"}